{"version":3,"file":"static/js/679.4a4e57a5.chunk.js","mappings":"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","sources":["../node_modules/@ant-design/icons-svg/es/asn/UserOutlined.js","../node_modules/@ant-design/icons/es/icons/UserOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/LockOutlined.js","../node_modules/@ant-design/icons/es/icons/LockOutlined.js","pages/login/components/PasswordLogin.jsx","../node_modules/@ant-design/icons-svg/es/asn/MobileOutlined.js","../node_modules/@ant-design/icons/es/icons/MobileOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/SafetyCertificateOutlined.js","../node_modules/@ant-design/icons/es/icons/SafetyCertificateOutlined.js","pages/login/components/VerificationLogin.jsx","pages/login/index.jsx","../node_modules/ahooks/es/useCountDown/index.js","../node_modules/ahooks/es/useMount/index.js"],"sourcesContent":["// This icon file is generated automatically.\nvar UserOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z\" } }] }, \"name\": \"user\", \"theme\": \"outlined\" };\nexport default UserOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UserOutlinedSvg from \"@ant-design/icons-svg/es/asn/UserOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar UserOutlined = function UserOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: UserOutlinedSvg\n  }));\n};\nUserOutlined.displayName = 'UserOutlined';\nexport default /*#__PURE__*/React.forwardRef(UserOutlined);","// This icon file is generated automatically.\nvar LockOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z\" } }] }, \"name\": \"lock\", \"theme\": \"outlined\" };\nexport default LockOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LockOutlinedSvg from \"@ant-design/icons-svg/es/asn/LockOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar LockOutlined = function LockOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LockOutlinedSvg\n  }));\n};\nLockOutlined.displayName = 'LockOutlined';\nexport default /*#__PURE__*/React.forwardRef(LockOutlined);","import React, { useState } from 'react';\nimport { LockOutlined, UserOutlined } from '@ant-design/icons';\nimport { Button, Checkbox, Form, Input, message } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useLocalStorageState, useMount, useUnmount } from 'ahooks';\nimport { addPrefixName, encryptFn, decryptFn } from '../../../utils/index';\nimport Cookies from 'js-cookie';\nimport { useDispatch } from 'react-redux';\nimport { setUserInfo } from './../../../store/userInfo';\n\nconst PasswordLogin = ({ activeKey }) => {\n  const [isValidate, setIsValidate] = useState(false);\n  const [localLoginInfo, setLocalLoginInfo] = useLocalStorageState(addPrefixName('loginInfo'));\n\n  const [form] = Form.useForm()\n  useMount(() => {\n    if (localLoginInfo) {\n      form.setFieldsValue({\n        username: localLoginInfo.username,\n        password: decryptFn(localLoginInfo.password),\n        remember: localLoginInfo.remember\n      })\n    }\n  })\n  // useEffect(() => {\n  //   form.resetFields()\n  // }, [form, activeKey])\n\n  const { t, i18n } = useTranslation();\n  i18n.on('languageChanged', (lng) => {\n    if (isValidate) form.validateFields();\n  })\n  useUnmount(() => {\n    i18n.off('languageChanged');\n  })\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const onFinish = (values) => {\n    setLocalLoginInfo({\n      username: values.username,\n      password: encryptFn(values.password),\n      remember: values.remember,\n    })\n    Cookies.set(addPrefixName('accessToken'), 'accessToken123', { expires: 7 })\n    dispatch(setUserInfo({\n      name: 'fxss'\n    }));\n    message.success(t('登陆成功'));\n    navigate('/');\n    console.log('Received values of form: ', values);\n  };\n\n  return (\n    <Form\n      initialValues={{\n        remember: true,\n      }}\n      form={form}\n      onFinish={onFinish}\n      size=\"large\"\n      name=\"login\"\n      className=\"w-80\"\n    >\n      <Form.Item\n        name=\"username\"\n        rules={[\n          {\n            required: true,\n            message: t('Please input your Username!'),\n          },\n        ]}\n      >\n        <Input prefix={<UserOutlined className=\"text-gray-400\" />} placeholder={t('Username')} allowClear />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: t('Please input your Password!'),\n          },\n        ]}\n      >\n        <Input.Password prefix={<LockOutlined className=\"text-gray-400\" />} placeholder={t('Password')} allowClear />\n      </Form.Item>\n      <Form.Item>\n        <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\n          <Checkbox>{t('Remember me')}</Checkbox>\n        </Form.Item>\n\n        <Link className=\"float-right a\" to=\"/login/password\">{t('Forgot password')}</Link>\n      </Form.Item>\n\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"w-full\" onClick={() => setIsValidate(true)}>{t('Log in')}</Button>\n        <div className='mt-3'>{t('Or')} <Link to=\"/login/register\" className=\"a\">{t('register now!')}</Link></div>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default PasswordLogin;\n","// This icon file is generated automatically.\nvar MobileOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z\" } }] }, \"name\": \"mobile\", \"theme\": \"outlined\" };\nexport default MobileOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MobileOutlinedSvg from \"@ant-design/icons-svg/es/asn/MobileOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar MobileOutlined = function MobileOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: MobileOutlinedSvg\n  }));\n};\nMobileOutlined.displayName = 'MobileOutlined';\nexport default /*#__PURE__*/React.forwardRef(MobileOutlined);","// This icon file is generated automatically.\nvar SafetyCertificateOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z\" } }] }, \"name\": \"safety-certificate\", \"theme\": \"outlined\" };\nexport default SafetyCertificateOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SafetyCertificateOutlinedSvg from \"@ant-design/icons-svg/es/asn/SafetyCertificateOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar SafetyCertificateOutlined = function SafetyCertificateOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: SafetyCertificateOutlinedSvg\n  }));\n};\nSafetyCertificateOutlined.displayName = 'SafetyCertificateOutlined';\nexport default /*#__PURE__*/React.forwardRef(SafetyCertificateOutlined);","import React, { useEffect, useState } from 'react';\nimport { SafetyCertificateOutlined, MobileOutlined } from '@ant-design/icons';\nimport { Button, Form, Input } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from \"react-router-dom\";\nimport { useCountDown, useUnmount } from 'ahooks';\nimport config from '../../../config';\n\nconst VerificationLogin = ({ activeKey }) => {\n  const [isValidate, setIsValidate] = useState(false)\n\n  const [form] = Form.useForm()\n  useEffect(() => {\n    // form.resetFields();\n    setTargetDate(undefined);\n    setIsGetVerificationLoading(false);\n  }, [form, activeKey])\n\n  const { t, i18n } = useTranslation();\n  i18n.on('languageChanged', (lng) => {\n    if (isValidate) form.validateFields();\n  })\n  useUnmount(() => {\n    i18n.off('languageChanged');\n  })\n\n  const [isGetVerificationLoading, setIsGetVerificationLoading] = useState(false);\n  const [targetDate, setTargetDate] = useState();\n  const [countdown] = useCountDown({\n    targetDate,\n    onEnd: () => {\n      setIsGetVerificationLoading(false);\n    },\n  });\n\n  const onFinish = (values) => {\n    console.log('Received values of form: ', values);\n  };\n  const getVerification = () => {\n    form.validateFields(['Phone']).then(() => {\n      setTargetDate(Date.now() + 60 * 1000);\n      setIsGetVerificationLoading(true);\n    })\n  };\n\n  return (\n    <Form\n      initialValues={{\n        remember: true,\n      }}\n      form={form}\n      onFinish={onFinish}\n      size=\"large\"\n      name=\"login\"\n      className=\"w-80\"\n    >\n      <Form.Item\n        name=\"Phone\"\n        rules={[\n          {\n            required: true,\n            message: t('Please input your Phone!'),\n          },\n          {\n            pattern: config.phonePattern,\n            message: t('Incorrect mobile number format!'),\n          },\n        ]}\n      >\n        <Input prefix={<MobileOutlined className=\"text-gray-400\" />} placeholder={t('Phone')} allowClear />\n      </Form.Item>\n\n      <Form.Item\n        name=\"Verification\"\n        rules={[\n          {\n            required: true,\n            message: t('Please input your Verification!'),\n          },\n          {\n            pattern: config.verificationPattern,\n            message: t('Incorrect format of verification number!')\n          },\n        ]}\n        className='flex-auto'\n      >\n        <Input prefix={<SafetyCertificateOutlined className=\"text-gray-400\" />} placeholder={t('Verification')} addonAfter={\n          isGetVerificationLoading ? `${Math.round(countdown / 1000)}s` : <div className='cursor-pointer' onClick={getVerification}>{t('Get verification code')}</div>\n        } allowClear />\n      </Form.Item>\n\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"w-full\" onClick={() => setIsValidate(true)}>{t('Log in')}</Button>\n        <div className='mt-3 clearfix'>\n          <Link className=\"float-left a\" to=\"/login/register\">{t('register now!')}</Link>\n          <Link className=\"float-right a\" to=\"/login/password\">{t('Forgot password')}</Link>\n        </div>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default VerificationLogin;\n","import React, { useState } from 'react';\nimport { Tabs } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport PasswordLogin from './components/PasswordLogin';\nimport VerificationLogin from './components/VerificationLogin';\n\nconst LoginIndex = () => {\n  const { t } = useTranslation();\n  const [activeKey , setActiveKey] = useState('1')\n  const onChange = (key) => {\n    setActiveKey(key);\n  };\n\n  return (\n    <Tabs\n      activeKey={activeKey}\n      size=\"large\"\n      onChange={onChange}\n      centered\n      items={[\n        {\n          label: t('Password Login'),\n          key: '1',\n          children: <PasswordLogin activeKey={activeKey} />,\n        },\n        {\n          label: t('Verification login'),\n          key: '2',\n          children: <VerificationLogin activeKey={activeKey} />,\n        }\n      ]}\n    />\n  );\n}\n\nexport default LoginIndex;\n","import dayjs from 'dayjs';\nimport { useEffect, useMemo, useState } from 'react';\nimport useLatest from '../useLatest';\nimport { isNumber } from '../utils/index';\nconst calcLeft = target => {\n  if (!target) {\n    return 0;\n  }\n  // https://stackoverflow.com/questions/4310953/invalid-date-in-safari\n  const left = dayjs(target).valueOf() - Date.now();\n  return left < 0 ? 0 : left;\n};\nconst parseMs = milliseconds => {\n  return {\n    days: Math.floor(milliseconds / 86400000),\n    hours: Math.floor(milliseconds / 3600000) % 24,\n    minutes: Math.floor(milliseconds / 60000) % 60,\n    seconds: Math.floor(milliseconds / 1000) % 60,\n    milliseconds: Math.floor(milliseconds) % 1000\n  };\n};\nconst useCountdown = (options = {}) => {\n  const {\n    leftTime,\n    targetDate,\n    interval = 1000,\n    onEnd\n  } = options || {};\n  const target = useMemo(() => {\n    if ('leftTime' in options) {\n      return isNumber(leftTime) && leftTime > 0 ? Date.now() + leftTime : undefined;\n    } else {\n      return targetDate;\n    }\n  }, [leftTime, targetDate]);\n  const [timeLeft, setTimeLeft] = useState(() => calcLeft(target));\n  const onEndRef = useLatest(onEnd);\n  useEffect(() => {\n    if (!target) {\n      // for stop\n      setTimeLeft(0);\n      return;\n    }\n    // 立即执行一次\n    setTimeLeft(calcLeft(target));\n    const timer = setInterval(() => {\n      var _a;\n      const targetLeft = calcLeft(target);\n      setTimeLeft(targetLeft);\n      if (targetLeft === 0) {\n        clearInterval(timer);\n        (_a = onEndRef.current) === null || _a === void 0 ? void 0 : _a.call(onEndRef);\n      }\n    }, interval);\n    return () => clearInterval(timer);\n  }, [target, interval]);\n  const formattedRes = useMemo(() => parseMs(timeLeft), [timeLeft]);\n  return [timeLeft, formattedRes];\n};\nexport default useCountdown;","import { useEffect } from 'react';\nimport { isFunction } from '../utils';\nimport isDev from '../utils/isDev';\nconst useMount = fn => {\n  if (isDev) {\n    if (!isFunction(fn)) {\n      console.error(`useMount: parameter \\`fn\\` expected to be a function, but got \"${typeof fn}\".`);\n    }\n  }\n  useEffect(() => {\n    fn === null || fn === void 0 ? void 0 : fn();\n  }, []);\n};\nexport default useMount;"],"names":["UserOutlined","props","ref","React","AntdIcon","_objectSpread","icon","UserOutlinedSvg","displayName","LockOutlined","LockOutlinedSvg","activeKey","useState","isValidate","setIsValidate","useLocalStorageState","addPrefixName","localLoginInfo","setLocalLoginInfo","Form","form","useMount","setFieldsValue","username","password","decryptFn","remember","useTranslation","t","i18n","on","lng","validateFields","useUnmount","off","dispatch","useDispatch","navigate","useNavigate","initialValues","onFinish","values","encryptFn","Cookies","expires","setUserInfo","name","message","console","log","size","className","rules","required","prefix","placeholder","allowClear","valuePropName","noStyle","to","type","htmlType","onClick","MobileOutlined","MobileOutlinedSvg","SafetyCertificateOutlined","SafetyCertificateOutlinedSvg","useEffect","setTargetDate","undefined","setIsGetVerificationLoading","isGetVerificationLoading","targetDate","useCountDown","onEnd","countdown","pattern","config","addonAfter","Math","round","then","Date","now","setActiveKey","onChange","key","centered","items","label","children","calcLeft","target","left","dayjs","valueOf","parseMs","milliseconds","days","floor","hours","minutes","seconds","options","leftTime","interval","useMemo","isNumber","timeLeft","setTimeLeft","onEndRef","useLatest","timer","setInterval","_a","targetLeft","clearInterval","current","call","formattedRes","fn","isDev","isFunction","error"],"sourceRoot":""}