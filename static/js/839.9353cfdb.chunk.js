"use strict";(self.webpackChunkreact_antd=self.webpackChunkreact_antd||[]).push([[839],{52026:function(e,n,t){var r=t(29439),a=t(72791),s=t(64209),c=t(98180),o=t(78029),i=t(77027),l=t(71810),u=t(87309),d=t(56079),h=t(45657),x=t(81694),p=t.n(x),f=t(80184);n.Z=function(e){var n=e.lang,t=void 0===n?"javascript":n,x=e.children,m=void 0===x?"":x,y=e.className,v=void 0===y?"":y,C=i.ZP.useMessage(),g=(0,r.Z)(C,2),j=g[0],I=g[1],T=(0,a.useState)(!1),Z=(0,r.Z)(T,2),S=Z[0],b=Z[1];return(0,f.jsxs)("div",{className:p()("relative",v),children:[I,(0,f.jsxs)("div",{className:"absolute right-1 top-1 flex items-center",children:[(0,f.jsx)("span",{className:"text-zinc-400 mr-3",children:t}),(0,f.jsx)(l.Z,{title:"\u590d\u5236\u4ee3\u7801",children:(0,f.jsx)(o.CopyToClipboard,{text:m,onCopy:function(e,n){e?n?(b(!0),j.success({content:"\u590d\u5236\u6210\u529f\uff01",duration:2,onClose:function(){b(!1)}})):(b(!1),j.error({content:"\u590d\u5236\u5931\u8d25\uff01",duration:2})):j.warning({content:"\u7f3a\u4e4f\u5f85\u590d\u5236\u5185\u5bb9\uff01",duration:2})},children:(0,f.jsx)(u.ZP,{size:"small",className:"opacity-80",icon:S?(0,f.jsx)(d.Z,{}):(0,f.jsx)(h.Z,{})})})})]}),(0,f.jsx)(s.Z,{language:t,showLineNumbers:!0,style:c.Z,customStyle:{borderRadius:"6px",fontSize:"14px",paddingTop:"22px",margin:0},children:m})]})}},94839:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r=t(52202),a=t(52026),s=t(29439),c=t(70737),o=t(87309),i=t(72791),l=t(1413),u=t(4439),d=t(98946),h=t(43030),x=t(88052),p=t(79148),f=t(50370),m=t(81694),y=t.n(m),v=t(80184),C=function(e){var n=e.opts,t=void 0===n?{renderer:"svg"}:n,r=e.options,a=void 0===r?{}:r,s=e.seriesData,c=void 0===s?[]:s,o=e.intervalTime,m=void 0===o?1500:o,C=e.autoPlay,g=void 0===C||C,j=e.isAddOn,I=void 0===j||j,T=e.onRef,Z=e.className,S=void 0===Z?"":Z,b=(0,i.useRef)(null),k=(0,i.useRef)(null),w=(0,i.useRef)({}),P=(0,i.useRef)(null),A=(0,i.useRef)(0),N=(0,i.useRef)(-1),E=(0,i.useRef)(m),D=(0,i.useRef)(!1);function B(){k.current.on("mouseover","series",(function(e){k.current.dispatchAction({type:"downplay",seriesIndex:A.current,dataIndex:N.current}),F()})),k.current.on("mouseout","series",(function(e){(g||D.current)&&M(!0,e.seriesIndex,e.dataIndex-1)}))}function R(){k.current.off("mouseover"),k.current.off("mouseout")}function z(){var e=(0,l.Z)((0,l.Z)({},a),{},{series:c});w.current=e,k.current.setOption(e,!0),e.series.length&&g&&(k.current.dispatchAction({type:"highlight",seriesIndex:A.current,dataIndex:N.current}),k.current.dispatchAction({type:"showTip",seriesIndex:A.current,dataIndex:N.current}),M(!1,A.current,N.current<=c[A.current].data.length-1?N.current:-1))}function O(){k.current&&(I&&R(),"function"===typeof k.current.clear&&k.current.clear(),"function"===typeof k.current.dispose&&k.current.dispose(),k.current=null)}function M(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&F(),D.current=!0,A.current=e,N.current=n,P.current||L(e)}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=w.current.series[e].data.length;k.current&&k.current.dispatchAction&&(k.current.dispatchAction({type:"downplay",seriesIndex:e,dataIndex:N.current}),N.current=(N.current+1)%n,k.current.dispatchAction({type:"highlight",seriesIndex:e,dataIndex:N.current}),k.current.dispatchAction({type:"showTip",seriesIndex:e,dataIndex:N.current})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;P.current=setTimeout((function(){L(e)}),E.current)}(e)}function F(){k.current&&k.current.dispatchAction&&(k.current.dispatchAction({type:"downplay",seriesIndex:A.current,dataIndex:N.current}),k.current.dispatchAction({type:"hideTip"})),P.current&&(clearTimeout(P.current),P.current=null)}(0,d.Z)((function(){O(),k.current=u.S1(b.current,null,t),z(),I&&B()})),(0,h.Z)((function(){F(),O()})),(0,x.Z)((function(){z()}),[c]),(0,p.Z)((function(){g?M(!1,A.current,N.current):F()}),[g]),(0,p.Z)((function(){E.current=m}),[m]),(0,p.Z)((function(){I?B():R()}),[I]);var U=(0,f.Z)(b);return(0,i.useEffect)((function(){k.current&&k.current.resize()}),[U]),(0,i.useImperativeHandle)(T,(function(){return{echartsInstance:function(){return k.current},echartsPlay:M,echartsPause:F}})),(0,v.jsx)("div",{ref:b,className:y()("w-full h-full",S)})},g=r.Z.Title,j=c.Z.useToken,I=function(){var e=j().token,n=e.colorText,t=e.colorBgContainer,r={grid:{top:"15%",bottom:"10%"},textStyle:{color:n},legend:{textStyle:{color:n}},xAxis:{type:"category",data:["Matcha Latte","Milk Tea","Cheese Cocoa","Walnut Brownie","Brownie","Cheese"]},yAxis:{},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex",backgroundColor:t,borderColor:e.colorBorder,textStyle:{color:n}}},a=(0,i.useState)([{type:"bar",name:"2015",data:[89.3,92.1,94.4,85.4,88,90]},{type:"bar",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]},{type:"bar",name:"2017",data:[97.7,83.1,92.5,78.1,95,93]}]),c=(0,s.Z)(a,2),l=c[0],u=c[1];return(0,v.jsxs)("div",{children:[(0,v.jsx)(g,{level:3,children:"1\u3001\u9ed8\u8ba4\u5c55\u793a\uff0c\u6d4b\u8bd5 seriesData \u53d8\u66f4"}),(0,v.jsx)("div",{children:(0,v.jsx)(o.ZP,{onClick:function(){u([{type:"bar",name:"2015",data:[89.3,92.1,94.4,85.4,50,69]},{type:"bar",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]}])},children:"\u5207\u6362"})}),(0,v.jsx)("div",{className:"w-full h-80",style:{backgroundColor:t},children:(0,v.jsx)(C,{options:r,seriesData:l})})]})},T=r.Z.Title,Z=c.Z.useToken,S=function(){var e=Z().token,n=e.colorText,t=e.colorBgContainer,r=e.colorBorder,a=(0,i.useState)(!1),c=(0,s.Z)(a,2),l=c[0],u=c[1],d={grid:{top:"15%",bottom:"10%"},textStyle:{color:n},legend:{textStyle:{color:n}},xAxis:{},yAxis:{type:"category",data:["Latte","Tea","Cocoa","Brownie"]},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex",backgroundColor:t,borderColor:r,textStyle:{color:n}}},h=(0,i.useState)([]),x=(0,s.Z)(h,2),p=x[0],f=x[1];return(0,v.jsxs)("div",{children:[(0,v.jsx)(T,{level:3,children:"2\u3001\u9ed8\u8ba4\u4e0d\u5c55\u793a\uff0c\u5c55\u793a\u7684\u65f6\u5019\uff0c\u8bbe\u7f6e seriesData"}),(0,v.jsx)("div",{children:(0,v.jsx)(o.ZP,{onClick:function(){u(!0),f([{type:"bar",name:"2015",data:[89.3,92.1,94.4,85.4]},{type:"bar",name:"2016",data:[95.8,89.4,91.2,76.9]}])},children:"\u5207\u6362"})}),(0,v.jsx)("div",{className:"w-full h-72",style:{backgroundColor:t},children:l&&(0,v.jsx)(C,{options:d,seriesData:p})})]})},b=r.Z.Title,k=c.Z.useToken,w=function(){var e=k().token,n=e.colorText,t=e.colorBgContainer,r={grid:{top:"15%",bottom:"10%"},textStyle:{color:n},legend:{textStyle:{color:n}},xAxis:{type:"category",data:["Matcha Latte","Milk Tea","Cheese Cocoa","Walnut Brownie","Brownie","Cheese"]},yAxis:{},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex",backgroundColor:t,borderColor:e.colorBorder,textStyle:{color:n}}},a=(0,i.useState)([{type:"bar",name:"2015",data:[89.3,92.1,94.4,85.4,88,90]},{type:"bar",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]},{type:"bar",name:"2017",data:[97.7,83.1,92.5,78.1,95,93]}]),c=(0,s.Z)(a,2),l=c[0],u=c[1];return(0,v.jsxs)("div",{children:[(0,v.jsx)(b,{level:3,children:"3\u3001\u524d\u540e\u4e24\u6b21\u8d4b\u503c\u7684 seriesData[0].data.length \u4e0d\u4e00\u6837\uff0c\u52a8\u753b\u4ece\u5934\u5f00\u59cb"}),(0,v.jsx)("div",{children:(0,v.jsx)(o.ZP,{onClick:function(){u([{type:"bar",name:"2015",data:[89.3,92.1]}])},children:"\u5207\u6362"})}),(0,v.jsx)("div",{className:"w-full h-80",style:{backgroundColor:t},children:(0,v.jsx)(C,{options:r,seriesData:l})})]})},P=r.Z.Title,A=c.Z.useToken,N=function(){var e=A().token,n=e.colorText,t=e.colorBgContainer,r=e.colorBorder,a=(0,i.useState)(!0),c=(0,s.Z)(a,2),l=c[0],u=c[1],d=(0,i.useState)(!0),h=(0,s.Z)(d,2),x=h[0],p=h[1],f={grid:{top:"15%",bottom:"10%"},textStyle:{color:n},legend:{textStyle:{color:n}},xAxis:{type:"category",data:["Matcha Latte","Milk Tea","Cheese Cocoa","Walnut Brownie","Brownie","Cheese"]},yAxis:{},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex",backgroundColor:t,borderColor:r,textStyle:{color:n}}};return(0,v.jsxs)("div",{children:[(0,v.jsx)(P,{level:3,children:"3\u3001\u5207\u6362\u5bbd\u9ad8\uff0c\u81ea\u52a8 resize"}),(0,v.jsxs)("div",{children:[(0,v.jsx)(o.ZP,{onClick:function(){u(!l)},children:"\u5207\u6362\u5bbd\u5ea6"}),(0,v.jsx)(o.ZP,{className:"ml-2",onClick:function(){p(!x)},children:"\u5207\u6362\u9ad8\u5ea6"})]}),(0,v.jsx)("div",{className:"w-full h-80",children:(0,v.jsx)("div",{style:{width:l?"100%":"50%",height:x?"100%":"75%",backgroundColor:t},children:(0,v.jsx)(C,{options:f,seriesData:[{type:"line",name:"2015",data:[89.3,92.1,94.4,85.4,88,90]},{type:"line",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]},{type:"line",name:"2017",data:[97.7,83.1,92.5,78.1,95,93]}]})})})]})},E=r.Z.Title,D=c.Z.useToken,B=function(){var e=D().token,n=e.colorText,t=e.colorBgContainer,r=e.colorBorder,a=(0,i.useState)(!0),c=(0,s.Z)(a,2),l=c[0],u=c[1],d={textStyle:{color:n},title:{text:"\u997c\u56fe\u7a0b\u5e8f\u8c03\u7528\u9ad8\u4eae\u793a\u4f8b",left:"center",textStyle:{color:n}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)",confine:!0,className:"echart-tooltip-zIndex",backgroundColor:t,borderColor:r,textStyle:{color:n}},legend:{orient:"vertical",left:"left",data:["\u76f4\u63a5\u8bbf\u95ee","\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u641c\u7d22\u5f15\u64ce"],textStyle:{color:n}}},h=[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","60%"],lable:{textStyle:{color:n}},data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:234,name:"\u8054\u76df\u5e7f\u544a"},{value:135,name:"\u89c6\u9891\u5e7f\u544a"},{value:1548,name:"\u641c\u7d22\u5f15\u64ce"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0}}}];return(0,v.jsxs)("div",{children:[(0,v.jsx)(E,{level:3,children:"5\u3001\u6539\u53d8 autoPlay \u5f00\u59cb\u7ed3\u675f\u52a8\u753b\uff0c\u4f7f\u7528 autoPlay \u6539\u53d8\u7684\u597d\u5904\u662f\u53ef\u4ee5\u4ece\u4e0a\u6b21\u6682\u505c\u52a8\u753b\u9879\u5904\u7ee7\u7eed\u52a8\u753b"}),(0,v.jsx)("div",{children:(0,v.jsxs)(o.ZP,{onClick:function(){u(!l)},children:[l?"\u7ed3\u675f":"\u5f00\u59cb","\u52a8\u753b"]})}),(0,v.jsx)("div",{className:"w-full h-80",style:{backgroundColor:t},children:(0,v.jsx)(C,{options:d,seriesData:h,autoPlay:l})})]})},R=r.Z.Title,z=c.Z.useToken,O=function(){var e=z().token,n=e.colorText,t=e.colorBgContainer,r=e.colorBorder,a=i.createRef(),s={textStyle:{color:n},title:{text:"\u997c\u56fe\u7a0b\u5e8f\u8c03\u7528\u9ad8\u4eae\u793a\u4f8b",left:"center",textStyle:{color:n}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)",confine:!0,className:"echart-tooltip-zIndex",backgroundColor:t,borderColor:r,textStyle:{color:n}},legend:{orient:"vertical",left:"left",data:["\u76f4\u63a5\u8bbf\u95ee","\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u641c\u7d22\u5f15\u64ce"],textStyle:{color:n}}},c=[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","60%"],lable:{textStyle:{color:n}},data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:234,name:"\u8054\u76df\u5e7f\u544a"},{value:135,name:"\u89c6\u9891\u5e7f\u544a"},{value:1548,name:"\u641c\u7d22\u5f15\u64ce"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0}}}];return(0,v.jsxs)("div",{children:[(0,v.jsx)(R,{level:3,children:"6\u3001\u901a\u8fc7 ref \u8c03\u7528\u5f00\u59cb\u7ed3\u675f\u52a8\u753b\uff0c\u4f7f\u7528 ref \u8c03\u7528\u7684\u597d\u5904\u662f\u53ef\u4ee5\u6307\u5b9a\u5728\u7b2c\u51e0\u9879\u5f00\u59cb\u52a8\u753b"}),(0,v.jsxs)("div",{children:[(0,v.jsx)(o.ZP,{onClick:function(){a.current.echartsPlay(!0,0,-1)},children:"\u5f00\u59cb\u52a8\u753b"}),(0,v.jsx)(o.ZP,{className:"ml-2",onClick:function(){a.current.echartsPause()},children:"\u7ed3\u675f\u52a8\u753b"}),(0,v.jsx)(o.ZP,{className:"ml-2",onClick:function(){var e=a.current.echartsInstance();e.clear(),e.dispose()},children:"\u83b7\u53d6\u5b9e\u4f8b\uff0c\u9500\u6bc1echarts"})]}),(0,v.jsx)("div",{className:"w-full h-80",style:{backgroundColor:t},children:(0,v.jsx)(C,{onRef:a,options:s,seriesData:c})})]})},M=r.Z.Title,L=c.Z.useToken,F=function(){var e=L().token,n=e.colorText,t=e.colorBgContainer,r=e.colorBorder,a=(0,i.useState)(5e3),c=(0,s.Z)(a,2),l=c[0],u=c[1],d={grid:{top:"15%",bottom:"10%"},textStyle:{color:n},legend:{textStyle:{color:n}},xAxis:{type:"category",data:["Matcha Latte","Milk Tea","Cheese Cocoa","Walnut Brownie","Brownie","Cheese"]},yAxis:{},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex",backgroundColor:t,borderColor:r,textStyle:{color:n}}};return(0,v.jsxs)("div",{children:[(0,v.jsx)(M,{level:3,children:"7\u3001\u5207\u6362\u52a8\u753b\u8df3\u52a8\u65f6\u95f4 5s \u53d8 1s"}),(0,v.jsx)("div",{children:(0,v.jsx)(o.ZP,{onClick:function(){u(1e3)},children:"\u5207\u6362"})}),(0,v.jsx)("div",{className:"w-full h-80",style:{backgroundColor:t},children:(0,v.jsx)(C,{options:d,seriesData:[{type:"line",name:"2015",data:[89.3,92.1,94.4,85.4,88,90]},{type:"line",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]},{type:"line",name:"2017",data:[97.7,83.1,92.5,78.1,95,93]}],intervalTime:l})})]})},U=r.Z.Title,W=c.Z.useToken,H=function(){var e=W().token,n=e.colorText,t=e.colorBgContainer,r=e.colorBorder,a=(0,i.useState)(!1),c=(0,s.Z)(a,2),l=c[0],u=c[1],d={grid:{top:"15%",bottom:"10%"},textStyle:{color:n},legend:{textStyle:{color:n}},xAxis:{type:"category",data:["Matcha Latte","Milk Tea","Cheese Cocoa","Walnut Brownie","Brownie","Cheese"]},yAxis:{},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex",backgroundColor:t,borderColor:r,textStyle:{color:n}}};return(0,v.jsxs)("div",{children:[(0,v.jsx)(U,{level:3,children:"8\u3001\u901a\u8fc7 isAddOn \u6dfb\u52a0\u79fb\u9664\u9f20\u6807\u4e8b\u4ef6"}),(0,v.jsx)("div",{children:(0,v.jsx)(o.ZP,{onClick:function(){u(!0)},children:l?"\u79fb\u9664":"\u6dfb\u52a0"})}),(0,v.jsx)("div",{className:"w-full h-80",style:{backgroundColor:t},children:(0,v.jsx)(C,{options:d,seriesData:[{type:"line",name:"2015",data:[89.3,92.1,94.4,85.4,88,90]},{type:"line",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]},{type:"line",name:"2017",data:[97.7,83.1,92.5,78.1,95,93]}],isAddOn:l})})]})},X=r.Z.Title,_=function(){return(0,v.jsxs)("div",{children:[(0,v.jsx)(X,{children:"echarts"}),(0,v.jsx)(X,{level:2,style:{marginTop:"0.5em"},children:"\u5b89\u88c5\uff1a"}),(0,v.jsx)(a.Z,{lang:"sh",children:"npm install echarts --save"}),(0,v.jsx)(X,{level:2,style:{marginTop:"0.5em"},children:"\u4f8b\u5b50\uff1a"}),(0,v.jsxs)("div",{className:"w-full flex",children:[(0,v.jsx)("div",{className:"w-1/2 px-3",children:(0,v.jsx)(I,{})}),(0,v.jsx)("div",{className:"w-1/2 px-3",children:(0,v.jsx)(S,{})})]}),(0,v.jsxs)("div",{className:"w-full flex",children:[(0,v.jsx)("div",{className:"w-1/2 px-3",children:(0,v.jsx)(w,{})}),(0,v.jsx)("div",{className:"w-1/2 px-3",children:(0,v.jsx)(N,{})})]}),(0,v.jsxs)("div",{className:"w-full flex",children:[(0,v.jsx)("div",{className:"w-1/2 px-3",children:(0,v.jsx)(B,{})}),(0,v.jsx)("div",{className:"w-1/2 px-3",children:(0,v.jsx)(O,{})})]}),(0,v.jsxs)("div",{className:"w-full flex",children:[(0,v.jsx)("div",{className:"w-1/2 px-3",children:(0,v.jsx)(F,{})}),(0,v.jsx)("div",{className:"w-1/2 px-3",children:(0,v.jsx)(H,{})})]}),(0,v.jsx)(X,{level:2,style:{marginTop:"0.5em"},children:"echarts\u7ec4\u4ef6\u5c01\u88c5\uff1a"}),(0,v.jsx)(a.Z,{lang:"jsx",children:"import { useEffect, useImperativeHandle, useRef } from \"react\";\nimport * as echarts from 'echarts';\nimport { useDeepCompareEffect, useMount, useSize, useUnmount, useUpdateEffect } from \"ahooks\";\n\nconst EchartsModule = ({\n  // https://echarts.apache.org/zh/api.html#echarts.init\n  // \u521d\u59cb\u5316\u4f20\u5165\u7684 opts\n  opts = { renderer: 'svg' },\n  // \u914d\u7f6e\u9879\n  options = {},\n  // \u6570\u636e\u96c6\u5408\n  seriesData = [],\n  // \u81ea\u52a8\u5207\u6362\u7684\u65f6\u95f4\u8de8\u5ea6\n  intervalTime = 1500,\n  // \u662f\u5426\u81ea\u52a8\u64ad\u653e\n  autoPlay = true,\n  // \u662f\u5426\u81ea\u52a8\u6dfb\u52a0\u9f20\u6807\u4e0a\u79fb\u4e8b\u4ef6\n  isAddOn = true,\n  onRef\n}) => {\n  \n  const echartsRef = useRef(null);\n  let myChart = useRef(null);\n  let echartsOptions = useRef({});\n  let myChartEventTime = useRef(null);\n  let currentSeriesIndex = useRef(0);\n  let currentDataIndex = useRef(-1);\n  let timer = useRef(intervalTime);\n\n  // \u662f\u5426\u8c03\u7528\u8fc7 echartsPlay\n  let isEchartsPlay = useRef(false);\n  // echarts\u521d\u59cb\u5316\n  function init() {\n    destroyEchart() //\u5224\u65ad\u662f\u5426\u6709echart\u5b9e\u4f8b\uff0c\u5982\u679c\u6709\uff0c\u5148\u9500\u6bc1\n    myChart.current = echarts.init(echartsRef.current, null, opts)\n    update()\n\n    if (isAddOn) {\n      addEventFn()\n    }\n  }\n\n  // \u7ed1\u5b9a\u4e8b\u4ef6\n  function addEventFn() {\n    // \u9f20\u6807\u79fb\u4e0a\u67e5\u770b\u7684\u65f6\u5019\uff0c\u6682\u505c\u52a8\u753b\n    myChart.current.on('mouseover', 'series', event => {\n      // \u53d6\u6d88\u4e4b\u524d\u9ad8\u4eae\u7684\u56fe\u5f62\n      myChart.current.dispatchAction({\n        type: 'downplay',\n        seriesIndex: currentSeriesIndex.current,\n        dataIndex: currentDataIndex.current\n      })\n      echartsPause()\n    })\n    // \u9f20\u6807\u79fb\u51fa\u7684\u65f6\u5019\u6253\u5f00\u52a8\u753b\n    myChart.current.on('mouseout', 'series', event => {\n      // \u81ea\u52a8\u64ad\u653e \u6216\u8005 \u8c03\u7528\u8fc7 echartsPlay\n      if (autoPlay || isEchartsPlay.current) echartsPlay(true, event.seriesIndex, event.dataIndex - 1)\n    })\n  }\n\n  // \u79fb\u9664\u4e8b\u4ef6\n  function removeEventFn() {\n    myChart.current.off('mouseover')\n    myChart.current.off('mouseout')\n  }\n\n  // \u6570\u636e\u66f4\u65b0\n  function update() {\n    // \u903b\u8f91\u5904\u7406\u7ec4\u4ef6options\u53c2\u6570\n    const curOptions = {\n      ...options,\n      series: seriesData\n      // other options here ...\n    }\n    echartsOptions.current = curOptions\n    // \u8c03\u7528ECharts\u7ec4\u4ef6setOption\u66f4\u65b0\n    myChart.current.setOption(curOptions, true)\n    if (curOptions.series.length && autoPlay) {\n      myChart.current.dispatchAction({\n        type: 'highlight',\n        seriesIndex: currentSeriesIndex.current,\n        dataIndex: currentDataIndex.current\n      })\n      // \u663e\u793a tooltip\n      myChart.current.dispatchAction({\n        type: 'showTip',\n        seriesIndex: currentSeriesIndex.current,\n        dataIndex: currentDataIndex.current\n      })\n      echartsPlay(false, currentSeriesIndex.current, currentDataIndex.current <= seriesData[currentSeriesIndex.current].data.length - 1 ? currentDataIndex.current : -1)\n    }\n  }\n\n  // \u9500\u6bc1echarts\n  function destroyEchart() {\n    if (myChart.current) {\n      if (isAddOn) {\n        removeEventFn()\n      }\n      if (typeof myChart.current.clear === 'function') myChart.current.clear()\n      if (typeof myChart.current.dispose === 'function') myChart.current.dispose()\n      myChart.current = null\n    }\n  }\n\n  /**\n   * echarts\u5f00\u542f\u52a8\u753b\uff0c\u53ef\u624b\u52a8\u8c03\u7528\n   * clear: \u662f\u5426\u7acb\u5373\u5f00\u59cb\u52a8\u753b\uff0c\u5e76\u6e05\u9664\u4e0a\u4e2a\u5b9a\u65f6\u5668\uff0c\u5f00\u542f\u4e0b\u4e2a\u5b9a\u65f6\u5668\uff0c\u9ed8\u8ba4\u4e3a false\n   * seriesIndex: series \u4e2d\u7684\u7b2c\u51e0\u9879\u6570\u636e\uff0c\u9ed8\u8ba4\u4e3a 0\n   * dataIndex: series[seriesIndex].data \u4e2d\u7684\u7b2c\u51e0\u9879\uff0c\u9ed8\u8ba4\u4e3a -1\n   */\n  function echartsPlay(clear = false, seriesIndex = 0, dataIndex = -1) {\n    if (clear) {\n      echartsPause()\n    }\n    isEchartsPlay.current = true\n    currentSeriesIndex.current = seriesIndex\n    currentDataIndex.current = dataIndex\n    if (!myChartEventTime.current) {\n      echartsEventPlay(seriesIndex)\n    }\n  }\n\n  function echartsTimeout(seriesIndex = 0) {\n    myChartEventTime.current = setTimeout(() => {\n      echartsEventPlay(seriesIndex)\n    }, timer.current)\n  }\n\n  function echartsEventPlay(seriesIndex = 0) {\n    const dataLen = echartsOptions.current.series[seriesIndex].data.length\n    if (myChart.current && myChart.current.dispatchAction) {\n      // \u53d6\u6d88\u4e4b\u524d\u9ad8\u4eae\u7684\u56fe\u5f62\n      myChart.current.dispatchAction({\n        type: 'downplay',\n        seriesIndex,\n        dataIndex: currentDataIndex.current\n      })\n      currentDataIndex.current = (currentDataIndex.current + 1) % dataLen\n      // \u9ad8\u4eae\u5f53\u524d\u56fe\u5f62\n      myChart.current.dispatchAction({\n        type: 'highlight',\n        seriesIndex,\n        dataIndex: currentDataIndex.current\n      })\n      // \u663e\u793a tooltip\n      myChart.current.dispatchAction({\n        type: 'showTip',\n        seriesIndex,\n        dataIndex: currentDataIndex.current\n      })\n    }\n    echartsTimeout(seriesIndex)\n  }\n\n  // echarts\u5173\u95ed\u52a8\u753b\uff0c\u53ef\u624b\u52a8\u8c03\u7528\n  function echartsPause() {\n    if (myChart.current && myChart.current.dispatchAction) {\n      // \u53d6\u6d88\u4e4b\u524d\u9ad8\u4eae\u7684\u56fe\u5f62\n      myChart.current.dispatchAction({\n        type: 'downplay',\n        seriesIndex: currentSeriesIndex.current,\n        dataIndex: currentDataIndex.current\n      })\n      // \u53d6\u6d88\u663e\u793a tooltip\n      myChart.current.dispatchAction({\n        type: 'hideTip'\n      })\n    }\n    if (myChartEventTime.current) {\n      clearTimeout(myChartEventTime.current)\n      myChartEventTime.current = null\n    }\n  }\n\n  // \u91cd\u7f6e\u5927\u5c0f\n  const echartsResize = () => {\n    if (myChart.current) myChart.current.resize()\n  }\n\n  useMount(() => {\n    init()\n  })\n  useUnmount(() => {\n    echartsPause()\n    destroyEchart()\n  })\n\n  useDeepCompareEffect(() => {\n    update()\n  }, [seriesData])\n\n  useUpdateEffect(() => {\n    if (autoPlay) {\n      echartsPlay(false, currentSeriesIndex.current, currentDataIndex.current)\n    } else {\n      echartsPause()\n    }\n  }, [autoPlay])\n\n  useUpdateEffect(() => {\n    timer.current = intervalTime\n  }, [intervalTime])\n\n  useUpdateEffect(() => {\n    if (isAddOn) {\n      addEventFn()\n    } else {\n      removeEventFn()\n    }\n  }, [isAddOn])\n\n  const size = useSize(echartsRef)\n  useEffect(() => {\n    echartsResize()\n  }, [size])\n\n  useImperativeHandle(onRef, () => {\n    return {\n      echartsInstance: () => myChart.current,\n      echartsPlay,\n      echartsPause\n    }\n  });\n\n  return (\n    <div ref={echartsRef} className=\"w-full h-full\"></div>\n  );\n};\n\nexport default EchartsModule;"})]})}}}]);
//# sourceMappingURL=839.9353cfdb.chunk.js.map