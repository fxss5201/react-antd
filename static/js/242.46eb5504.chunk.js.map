{"version":3,"file":"static/js/242.46eb5504.chunk.js","mappings":"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","sources":["components/DraggableTabsHover.jsx","pages/pageAntd/components/DraggableTabsHoverDemo.jsx","components/DraggableTabsDrop.jsx","pages/pageAntd/components/DraggableTabsDropDemo.jsx","pages/pageAntd/PageDraggableTabs.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { Tabs, theme } from 'antd';\nimport { DndProvider, useDrag, useDrop } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport cloneDeep from 'lodash.clonedeep';\n\nconst { useToken } = theme;\n\nconst type = 'DraggableTabNode';\nconst DraggableTabNode = ({ index, children, moveNode, canDragEvent, canDropEvent }) => {\n  const { token } = useToken();\n  const { colorPrimary } = token;\n  const ref = useRef(null);\n  const [{ isOver }, drop] = useDrop({\n    accept: type,\n    collect: (monitor) => {\n      const { index: dragIndex } = monitor.getItem() || {};\n      if (dragIndex === index) {\n        return {};\n      }\n      return {\n        isOver: monitor.isOver(),\n      };\n    },\n    canDrop: () => {\n      return canDropEvent(index);\n    },\n    hover: (item) => {\n      if (canDropEvent(index)) moveNode(item.index, index);\n    },\n  });\n  const [{ isDragging }, drag] = useDrag({\n    type,\n    item: {\n      index,\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n    canDrag: () => {\n      return canDragEvent(index);\n    }\n  });\n  drop(drag(ref));\n\n  // Style\n  const style = {\n    opacity: 1\n  };\n  if (isOver) {\n    style.color = colorPrimary;\n  }\n  if (isDragging) {\n    style.opacity = 0;\n    style.transition = 'all 0.8s';\n  }\n  return (\n    <div ref={ref} style={style}>\n      {children}\n    </div>\n  );\n};\nconst DraggableTabsHover = (props) => {\n  const { items = [], onDragEndEvent, canDragEvent, canDropEvent } = props;\n  const [order, setOrder] = useState([]);\n  const moveTabNode = (dragKey, hoverKey) => {\n    const newOrder = order.slice();\n    items.forEach((item) => {\n      if (item.key && newOrder.indexOf(item.key) === -1) {\n        newOrder.push(item.key);\n      }\n    });\n    const dragIndex = newOrder.indexOf(dragKey);\n    const hoverIndex = newOrder.indexOf(hoverKey);\n    newOrder.splice(dragIndex, 1);\n    newOrder.splice(hoverIndex, 0, dragKey);\n    onDragEndEvent(newOrder);\n    setOrder(newOrder);\n  };\n  const renderTabBar = (tabBarProps, DefaultTabBar) => (\n    <DefaultTabBar {...tabBarProps}>\n      {(node) => (\n        <DraggableTabNode key={node.key} index={node.key} moveNode={moveTabNode} canDragEvent={canDragEvent} canDropEvent={canDropEvent}>\n          {node}\n        </DraggableTabNode>\n      )}\n    </DefaultTabBar>\n  );\n\n  const orderItems = [...items].sort((a, b) => {\n    const orderA = order.indexOf(a.key);\n    const orderB = order.indexOf(b.key);\n    if (orderA !== -1 && orderB !== -1) {\n      return orderA - orderB;\n    }\n    if (orderA !== -1) {\n      return -1;\n    }\n    if (orderB !== -1) {\n      return 1;\n    }\n    const ia = items.indexOf(a);\n    const ib = items.indexOf(b);\n    return ia - ib;\n  });\n  \n  const tabsProps = cloneDeep(props)\n  delete tabsProps.onDragEndEvent;\n  delete tabsProps.canDragEvent;\n  delete tabsProps.canDropEvent;\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Tabs renderTabBar={renderTabBar} {...tabsProps} items={orderItems} />\n    </DndProvider>\n  );\n};\n\nexport default DraggableTabsHover;\n","import React, { useState } from 'react';\nimport cloneDeep from 'lodash.clonedeep';\nimport DraggableTabsHover from '../../../components/DraggableTabsHover';\n\nconst DraggableTabsHoverDemo = () => {\n  const [items, setItems] = useState([\n    {\n      key: 'key1',\n      label: `Tab 1`,\n      children: `Content of Tab Pane 1`,\n      closable: false,\n    },\n    {\n      key: 'key2',\n      label: `Tab 2`,\n      children: `Content of Tab Pane 2`,\n    },\n    {\n      key: 'key3',\n      label: `Tab 3`,\n      children: `Content of Tab Pane 3`,\n    },\n    {\n      key: 'key4',\n      label: `Tab 4`,\n      children: `Content of Tab Pane 4`,\n    },\n    {\n      key: 'key5',\n      label: `Tab 5`,\n      children: `Content of Tab Pane 5`,\n    },\n    {\n      key: 'key6',\n      label: `Tab 6`,\n      children: `Content of Tab Pane 6`,\n    },\n  ])\n  const onChange = (key) => {\n    console.log(key);\n  };\n  const onEdit = (targetKey, action) => {\n    const list = cloneDeep(items)\n    if (action === 'remove') {\n      list.splice(list.findIndex(x => x.key === targetKey), 1)\n      setItems(list)\n    }\n  };\n  const onDragEndEvent = (keys) => {\n    const list = [];\n    keys.forEach(key => {\n      list.push(items.find(x => x.key === key))\n    });\n    setItems(list)\n  }\n  const canDragEvent = (key) => {\n    const cur = items.find(x => x.key === key)\n    let res = true\n    if (cur.hasOwnProperty('closable') && !cur.closable) res = false\n    return res\n  }\n  const canDropEvent = (key) => {\n    const cur = items.find(x => x.key === key)\n    let res = true\n    if (cur.hasOwnProperty('closable') && !cur.closable) res = false\n    return res\n  }\n\n  return (\n    <>\n      <p>一共有6个tabs，第一个tabs不支持删除和拖拽放置，拖拽其余的在 hover 时即触发切换</p>\n      <DraggableTabsHover\n        items={items}\n        onChange={onChange}\n        onEdit={onEdit}\n        onDragEndEvent={onDragEndEvent}\n        canDragEvent={canDragEvent}\n        canDropEvent={canDropEvent}\n        type=\"editable-card\"\n        hideAdd\n        tabBarGutter={0}\n        tabBarStyle={{margin: 0}}\n      />\n    </>\n  )\n};\n\nexport default DraggableTabsHoverDemo;","import React, { useRef, useState } from 'react';\nimport { Tabs, theme } from 'antd';\nimport { DndProvider, useDrag, useDrop } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport cloneDeep from 'lodash.clonedeep';\n\nconst { useToken } = theme;\n\nconst type = 'DraggableTabNode';\nconst DraggableTabNode = ({ index, children, moveNode, canDragEvent, canDropEvent }) => {\n  const { token } = useToken();\n  const { colorPrimary } = token;\n  const ref = useRef(null);\n  const [{ isOver }, drop] = useDrop({\n    accept: type,\n    collect: (monitor) => {\n      const { index: dragIndex } = monitor.getItem() || {};\n      if (dragIndex === index) {\n        return {};\n      }\n      return {\n        isOver: monitor.isOver(),\n      };\n    },\n    canDrop: () => {\n      return canDropEvent(index);\n    },\n    drop: (item) => {\n      moveNode(item.index, index);\n    },\n  });\n  const [{ isDragging }, drag] = useDrag({\n    type,\n    item: {\n      index,\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n    canDrag: () => {\n      return canDragEvent(index);\n    }\n  });\n  drop(drag(ref));\n\n  // Style\n  const style = {\n    opacity: 1\n  };\n  if (isOver) {\n    style.color = colorPrimary;\n  }\n  if (isDragging) {\n    style.opacity = 0;\n    style.transition = 'all 0.8s';\n  }\n  return (\n    <div ref={ref} style={style}>\n      {children}\n    </div>\n  );\n};\nconst DraggableTabsDrop = (props) => {\n  const { items = [], onDragEndEvent, canDragEvent, canDropEvent } = props;\n  const [order, setOrder] = useState([]);\n  const moveTabNode = (dragKey, hoverKey) => {\n    const newOrder = order.slice();\n    items.forEach((item) => {\n      if (item.key && newOrder.indexOf(item.key) === -1) {\n        newOrder.push(item.key);\n      }\n    });\n    const dragIndex = newOrder.indexOf(dragKey);\n    const hoverIndex = newOrder.indexOf(hoverKey);\n    newOrder.splice(dragIndex, 1);\n    newOrder.splice(hoverIndex, 0, dragKey);\n    onDragEndEvent(newOrder);\n    setOrder(newOrder);\n  };\n  const renderTabBar = (tabBarProps, DefaultTabBar) => (\n    <DefaultTabBar {...tabBarProps}>\n      {(node) => (\n        <DraggableTabNode key={node.key} index={node.key} moveNode={moveTabNode} canDragEvent={canDragEvent} canDropEvent={canDropEvent}>\n          {node}\n        </DraggableTabNode>\n      )}\n    </DefaultTabBar>\n  );\n\n  const orderItems = [...items].sort((a, b) => {\n    const orderA = order.indexOf(a.key);\n    const orderB = order.indexOf(b.key);\n    if (orderA !== -1 && orderB !== -1) {\n      return orderA - orderB;\n    }\n    if (orderA !== -1) {\n      return -1;\n    }\n    if (orderB !== -1) {\n      return 1;\n    }\n    const ia = items.indexOf(a);\n    const ib = items.indexOf(b);\n    return ia - ib;\n  });\n  \n  const tabsProps = cloneDeep(props)\n  delete tabsProps.onDragEndEvent;\n  delete tabsProps.canDragEvent;\n  delete tabsProps.canDropEvent;\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Tabs renderTabBar={renderTabBar} {...tabsProps} items={orderItems} />\n    </DndProvider>\n  );\n};\n\nexport default DraggableTabsDrop;\n","import React, { useState } from 'react';\nimport cloneDeep from 'lodash.clonedeep';\nimport DraggableTabsDrop from '../../../components/DraggableTabsDrop';\n\nconst DraggableTabsDropDemo = () => {\n  const [items, setItems] = useState([\n    {\n      key: 'key1',\n      label: `Tab 1`,\n      children: `Content of Tab Pane 1`,\n      closable: false,\n    },\n    {\n      key: 'key2',\n      label: `Tab 2`,\n      children: `Content of Tab Pane 2`,\n    },\n    {\n      key: 'key3',\n      label: `Tab 3`,\n      children: `Content of Tab Pane 3`,\n    },\n    {\n      key: 'key4',\n      label: `Tab 4`,\n      children: `Content of Tab Pane 4`,\n    },\n    {\n      key: 'key5',\n      label: `Tab 5`,\n      children: `Content of Tab Pane 5`,\n    },\n    {\n      key: 'key6',\n      label: `Tab 6`,\n      children: `Content of Tab Pane 6`,\n    },\n  ])\n  const onChange = (key) => {\n    console.log(key);\n  };\n  const onEdit = (targetKey, action) => {\n    const list = cloneDeep(items)\n    if (action === 'remove') {\n      list.splice(list.findIndex(x => x.key === targetKey), 1)\n      setItems(list)\n    }\n  };\n  const onDragEndEvent = (keys) => {\n    const list = [];\n    keys.forEach(key => {\n      list.push(items.find(x => x.key === key))\n    });\n    setItems(list)\n  }\n  const canDragEvent = (key) => {\n    const cur = items.find(x => x.key === key)\n    let res = true\n    if (cur.hasOwnProperty('closable') && !cur.closable) res = false\n    return res\n  }\n  const canDropEvent = (key) => {\n    const cur = items.find(x => x.key === key)\n    let res = true\n    if (cur.hasOwnProperty('closable') && !cur.closable) res = false\n    return res\n  }\n\n  return (\n    <>\n      <p>一共有6个tabs，第一个tabs不支持删除和拖拽放置，拖拽其余的在 drop 时即触发切换</p>\n      <DraggableTabsDrop\n        items={items}\n        onChange={onChange}\n        onEdit={onEdit}\n        onDragEndEvent={onDragEndEvent}\n        canDragEvent={canDragEvent}\n        canDropEvent={canDropEvent}\n        type=\"editable-card\"\n        hideAdd\n        tabBarGutter={0}\n        tabBarStyle={{margin: 0}}\n      />\n    </>\n  )\n};\n\nexport default DraggableTabsDropDemo;","import React from 'react';\nimport DraggableTabsHoverDemo from './components/DraggableTabsHoverDemo';\nimport DraggableTabsDropDemo from './components/DraggableTabsDropDemo';\n\nconst PageDraggableTabs = () => {\n  return (\n    <>\n      <DraggableTabsHoverDemo></DraggableTabsHoverDemo>\n      <div className='mb-4'></div>\n      <DraggableTabsDropDemo></DraggableTabsDropDemo>\n    </>\n  )\n};\n\nexport default PageDraggableTabs;"],"names":["useToken","theme","type","DraggableTabNode","_ref","index","children","moveNode","canDragEvent","canDropEvent","colorPrimary","token","ref","useRef","_useDrop","useDrop","accept","collect","monitor","getItem","isOver","canDrop","hover","item","_useDrop2","_slicedToArray","drop","_useDrag","useDrag","isDragging","canDrag","_useDrag2","drag","style","opacity","color","transition","_jsx","props","_props$items","items","onDragEndEvent","_useState","useState","_useState2","order","setOrder","moveTabNode","dragKey","hoverKey","newOrder","slice","forEach","key","indexOf","push","dragIndex","hoverIndex","splice","orderItems","_toConsumableArray","sort","a","b","orderA","orderB","tabsProps","cloneDeep","DndProvider","backend","HTML5Backend","Tabs","_objectSpread","renderTabBar","tabBarProps","DefaultTabBar","node","label","closable","setItems","_jsxs","_Fragment","DraggableTabsHover","onChange","console","log","onEdit","targetKey","action","list","findIndex","x","keys","find","cur","res","hasOwnProperty","hideAdd","tabBarGutter","tabBarStyle","margin","DraggableTabsDrop","DraggableTabsHoverDemo","className","DraggableTabsDropDemo"],"sourceRoot":""}