"use strict";(self.webpackChunkreact_antd=self.webpackChunkreact_antd||[]).push([[506],{506:function(e,r,n){n.r(r),n.d(r,{default:function(){return H}});var t=n(29439),a=n(72791),i=n(83574),o=n(39230),l=n(29529),s=n(1413),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},u=n(8711),d=function(e,r){return a.createElement(u.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:r,icon:c}))};d.displayName="LockOutlined";var f=a.forwardRef(d),m=n(76032),v=n(14372),h=n(91885),g=n(63254),Z=n(67354),p=n(57689),x=n(11087),y=n(90263),j=n(98946),w=n(43030),b=n(2703),N=n(88329),I=n(59434),M=n(13799),z=n(80184),P=function(e){e.activeKey;var r=(0,b.RQ)(),n=(0,a.useState)(!1),i=(0,t.Z)(n,2),s=i[0],c=i[1],u=(0,y.Z)((0,b.hi)("loginInfo")),d=(0,t.Z)(u,2),P=d[0],V=d[1],C=m.Z.useForm(),k=(0,t.Z)(C,1)[0];(0,j.Z)((function(){P&&k.setFieldsValue({username:P.username,password:(0,b.hX)(P.password),remember:P.remember})}));var S=(0,o.$G)(),F=S.t,R=S.i18n;R.on("languageChanged",(function(e){s&&k.validateFields()})),(0,w.Z)((function(){R.off("languageChanged")}));var L=(0,I.I0)(),E=(0,p.s0)();return(0,z.jsxs)(m.Z,{initialValues:{remember:!0},form:k,onFinish:function(e){V({username:e.username,password:(0,b.XI)(e.password),remember:e.remember});var r=[];"normal"===e.username?r=["normal"]:"middle"===e.username?r=["middle"]:"admin"===e.username&&(r=["normal","middle","admin"]),N.Z.set((0,b.hi)("accessToken"),e.username,{expires:7}),L((0,M.ps)({name:e.username,access:r})),v.ZP.success(F("\u767b\u9646\u6210\u529f")),E("/"),console.log("Received values of form: ",e)},size:"large",name:"login",className:"w-80",children:[(0,z.jsx)(m.Z.Item,{name:"username",rules:[{required:!0,message:F("Please input your Username!")}],children:(0,z.jsx)(h.Z,{prefix:(0,z.jsx)(l.Z,{className:"text-gray-400"}),placeholder:F("Username"),allowClear:!0})}),(0,z.jsx)(m.Z.Item,{name:"password",rules:[{required:!0,message:F("Please input your Password!")}],children:(0,z.jsx)(h.Z.Password,{prefix:(0,z.jsx)(f,{className:"text-gray-400"}),placeholder:F("Password"),allowClear:!0})}),(0,z.jsxs)(m.Z.Item,{children:[(0,z.jsx)(m.Z.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:(0,z.jsx)(g.Z,{children:F("Remember me")})}),(0,z.jsx)(x.rU,{className:"float-right a",to:"/login/password",style:{color:r},children:F("Forgot password")})]}),(0,z.jsxs)(m.Z.Item,{children:[(0,z.jsx)(Z.ZP,{type:"primary",htmlType:"submit",className:"w-full",onClick:function(){return c(!0)},children:F("Log in")}),(0,z.jsxs)("div",{className:"mt-3",children:[F("Or")," ",(0,z.jsx)(x.rU,{to:"/login/register",className:"a",style:{color:r},children:F("register now!")})]})]}),(0,z.jsx)(m.Z.Item,{children:(0,z.jsxs)("ul",{style:{listStyle:"decimal",paddingLeft:"14px"},children:[(0,z.jsx)("li",{children:"\u8d26\u53f7normal\uff0c\u5bc6\u7801\u968f\u610f\uff0c\u5bf9\u5e94\u7684\u662fnormal\u6743\u9650"}),(0,z.jsx)("li",{children:"\u8d26\u53f7middle\uff0c\u5bc6\u7801\u968f\u610f\uff0c\u5bf9\u5e94\u7684\u662fmiddle\u6743\u9650"}),(0,z.jsx)("li",{children:"\u8d26\u53f7admin\uff0c\u5bc6\u7801\u968f\u610f\uff0c\u5bf9\u5e94\u7684\u662fadmin\u6743\u9650\uff08\u62e5\u6709normal\u548cmiddle\u6743\u9650\uff09"}),(0,z.jsx)("li",{children:"\u8d26\u53f7\u968f\u610f \uff0c\u5bc6\u7801\u968f\u610f\uff0c\u5bf9\u5e94\u7684\u4ec5\u662frequiresAuth: true\u7684\u9875\u9762"})]})})]})},V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},C=function(e,r){return a.createElement(u.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:r,icon:V}))};C.displayName="MobileOutlined";var k=a.forwardRef(C),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"}}]},name:"safety-certificate",theme:"outlined"},F=function(e,r){return a.createElement(u.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:r,icon:S}))};F.displayName="SafetyCertificateOutlined";var R=a.forwardRef(F),L=n(14447),E=n(40077),O=function(e){var r=e.activeKey,n=(0,b.RQ)(),i=(0,a.useState)(!1),l=(0,t.Z)(i,2),s=l[0],c=l[1],u=m.Z.useForm(),d=(0,t.Z)(u,1)[0];(0,a.useEffect)((function(){V(void 0),N(!1)}),[d,r]);var f=(0,o.$G)(),v=f.t,g=f.i18n;g.on("languageChanged",(function(e){s&&d.validateFields()})),(0,w.Z)((function(){g.off("languageChanged")}));var p=(0,a.useState)(!1),y=(0,t.Z)(p,2),j=y[0],N=y[1],I=(0,a.useState)(),M=(0,t.Z)(I,2),P=M[0],V=M[1],C=(0,L.Z)({targetDate:P,onEnd:function(){N(!1)}}),S=(0,t.Z)(C,1)[0];return(0,z.jsxs)(m.Z,{initialValues:{remember:!0},form:d,onFinish:function(e){console.log("Received values of form: ",e)},size:"large",name:"login",className:"w-80",children:[(0,z.jsx)(m.Z.Item,{name:"Phone",rules:[{required:!0,message:v("Please input your Phone!")},{pattern:E.Z.phonePattern,message:v("Incorrect mobile number format!")}],children:(0,z.jsx)(h.Z,{prefix:(0,z.jsx)(k,{className:"text-gray-400"}),placeholder:v("Phone"),allowClear:!0})}),(0,z.jsx)(m.Z.Item,{name:"Verification",rules:[{required:!0,message:v("Please input your Verification!")},{pattern:E.Z.verificationPattern,message:v("Incorrect format of verification number!")}],className:"flex-auto",children:(0,z.jsx)(h.Z,{prefix:(0,z.jsx)(R,{className:"text-gray-400"}),placeholder:v("Verification"),addonAfter:j?"".concat(Math.round(S/1e3),"s"):(0,z.jsx)("div",{className:"cursor-pointer",onClick:function(){d.validateFields(["Phone"]).then((function(){V(Date.now()+6e4),N(!0)}))},children:v("Get verification code")}),allowClear:!0})}),(0,z.jsxs)(m.Z.Item,{children:[(0,z.jsx)(Z.ZP,{type:"primary",htmlType:"submit",className:"w-full",onClick:function(){return c(!0)},children:v("Log in")}),(0,z.jsxs)("div",{className:"mt-3 clearfix",children:[(0,z.jsx)(x.rU,{className:"float-left a",to:"/login/register",style:{color:n},children:v("register now!")}),(0,z.jsx)(x.rU,{className:"float-right a",to:"/login/password",style:{color:n},children:v("Forgot password")})]})]})]})},H=function(){var e=(0,o.$G)().t,r=(0,a.useState)("1"),n=(0,t.Z)(r,2),l=n[0],s=n[1];return(0,z.jsx)(i.Z,{activeKey:l,size:"large",onChange:function(e){s(e)},centered:!0,items:[{label:e("Password Login"),key:"1",children:(0,z.jsx)(P,{activeKey:l})},{label:e("Verification login"),key:"2",children:(0,z.jsx)(O,{activeKey:l})}]})}},14447:function(e,r,n){var t=n(29439),a=n(97892),i=n.n(a),o=n(72791),l=n(45362),s=n(667),c=function(e){if(!e)return 0;var r=i()(e).valueOf()-Date.now();return r<0?0:r},u=function(e){return{days:Math.floor(e/864e5),hours:Math.floor(e/36e5)%24,minutes:Math.floor(e/6e4)%60,seconds:Math.floor(e/1e3)%60,milliseconds:Math.floor(e)%1e3}};r.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e||{},n=r.leftTime,a=r.targetDate,i=r.interval,d=void 0===i?1e3:i,f=r.onEnd,m=(0,o.useMemo)((function(){return"leftTime"in e?(0,s.hj)(n)&&n>0?Date.now()+n:void 0:a}),[n,a]),v=(0,o.useState)((function(){return c(m)})),h=(0,t.Z)(v,2),g=h[0],Z=h[1],p=(0,l.Z)(f);(0,o.useEffect)((function(){if(m){Z(c(m));var e=setInterval((function(){var r,n=c(m);Z(n),0===n&&(clearInterval(e),null===(r=p.current)||void 0===r||r.call(p))}),d);return function(){return clearInterval(e)}}Z(0)}),[m,d]);var x=(0,o.useMemo)((function(){return u(g)}),[g]);return[g,x]}},90263:function(e,r,n){n.d(r,{Z:function(){return d}});var t=n(29439),a=n(72791),i=n(667),o=n(55355);var l=function(e){o.Z&&((0,i.mf)(e)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof e)));var r=(0,a.useRef)(e);r.current=(0,a.useMemo)((function(){return e}),[e]);var n=(0,a.useRef)();return n.current||(n.current=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return r.current.apply(this,n)}),n.current},s=n(79148);var c,u=n(1226),d=(c=function(){return u.Z?localStorage:void 0},function(e,r){var n;try{n=c()}catch(v){console.error(v)}function o(){try{var t=null===n||void 0===n?void 0:n.getItem(e);if(t)return a=t,(null===r||void 0===r?void 0:r.deserializer)?null===r||void 0===r?void 0:r.deserializer(a):JSON.parse(a)}catch(o){console.error(o)}var a;return(0,i.mf)(null===r||void 0===r?void 0:r.defaultValue)?null===r||void 0===r?void 0:r.defaultValue():null===r||void 0===r?void 0:r.defaultValue}var u=(0,a.useState)((function(){return o()})),d=(0,t.Z)(u,2),f=d[0],m=d[1];return(0,s.Z)((function(){m(o())}),[e]),[f,l((function(t){var a=(0,i.mf)(t)?t(f):t;if(m(a),(0,i.G7)(a))null===n||void 0===n||n.removeItem(e);else try{null===n||void 0===n||n.setItem(e,function(e){return(null===r||void 0===r?void 0:r.serializer)?null===r||void 0===r?void 0:r.serializer(e):JSON.stringify(e)}(a))}catch(o){console.error(o)}}))]})},98946:function(e,r,n){var t=n(72791),a=n(667),i=n(55355);r.Z=function(e){i.Z&&((0,a.mf)(e)||console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof e,'".'))),(0,t.useEffect)((function(){null===e||void 0===e||e()}),[])}},79148:function(e,r,n){n.d(r,{Z:function(){return i}});var t=n(72791),a=function(e){return function(r,n){var a=(0,t.useRef)(!1);e((function(){return function(){a.current=!1}}),[]),e((function(){if(a.current)return r();a.current=!0}),n)}},i=a(t.useEffect)}}]);
//# sourceMappingURL=506.5ebd09c3.chunk.js.map