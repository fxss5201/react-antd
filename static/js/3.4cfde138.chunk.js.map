{"version":3,"file":"static/js/3.4cfde138.chunk.js","mappings":"0NAKA,SAASA,IACP,OAAOC,EAAAA,EAAAA,IAAU,aACnB,CAEA,SAASC,EAAeC,GACtB,OAAOF,EAAAA,EAAAA,IAAU,cAAD,OAAeE,GACjC,CA8DA,UA5DsB,WACpB,OAAsCC,EAAAA,EAAAA,GAAWJ,GAAS,IAAlDK,KAAAA,OAAI,MAAG,CAAC,EAAC,EAAEC,EAAK,EAALA,MAAOC,EAAO,EAAPA,QAC1B,GAAyFH,EAAAA,EAAAA,GAAWF,EAAgB,CAClHM,QAAQ,IADIC,EAAU,EAAhBJ,KAAyBK,EAAW,EAAlBJ,MAA6BK,EAAa,EAAtBJ,QAA6BK,EAAS,EAAdC,IAIhEC,EAAU,CACd,CACEC,MAAO,eACPC,UAAW,QAEb,CACED,MAAO,eACPC,UAAW,OAEb,CACED,MAAO,eACPE,IAAK,SACLC,OAAQ,SAACC,EAAGC,GAAM,OAAK,SAAC,KAAM,CAACC,QAAS,SAACC,GAAC,OAAKC,EAAUH,EAAOH,IAAKK,EAAE,EAAEE,KAAK,OAAOC,UAAU,YAAW,SAAC,gBAAW,IAI1H,GAAsCC,EAAAA,EAAAA,WAAS,GAAM,eAA9CC,EAAW,KAAEC,EAAc,KAC5BL,EAAY,SAACN,GACjBW,GAAe,GACfhB,EAAUK,EACZ,EAQA,GAAIX,EACF,OAAO,yBAAK,mBAGd,IAAMuB,EAAe,WAAO,IAAD,MACzB,OAAInB,GACK,yBAAK,oBAGZ,UAAC,IAAI,CAACoB,SAAUnB,EAAc,WAC5B,yBAAgB,OAAVF,QAAU,IAAVA,GAAgB,QAAN,EAAVA,EAAYJ,YAAI,WAAN,EAAV,EAAkB0B,QACxB,yBAAgB,OAAVtB,QAAU,IAAVA,GAAgB,QAAN,EAAVA,EAAYJ,YAAI,WAAN,EAAV,EAAkB2B,OACxB,yBAAgB,OAAVvB,QAAU,IAAVA,GAAgB,QAAN,EAAVA,EAAYJ,YAAI,WAAN,EAAV,EAAkB4B,YAG9B,EACA,OACE,iCACE,SAAC,IAAK,CAACnB,QAASA,EAASoB,YAAgB,OAAJ7B,QAAI,IAAJA,OAAI,EAAJA,EAAMA,OAAQ,GAAIE,QAASA,EAAS4B,UAAQ,EAACC,YAAY,KAC9F,SAAC,IAAK,CAACrB,MAAM,2BAAOsB,KAAMV,EAAaW,KA1B1B,WACfV,GAAe,EACjB,EAwB2DW,SAvBtC,WACnBX,GAAe,EACjB,EAqBkF,UAC5E,SAACC,EAAY,QAIrB,C","sources":["pages/pageMock/PageMockUsers.jsx"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport { useRequest } from 'ahooks';\nimport { Table, Button, Modal, Spin } from 'antd';\n\nfunction getUsers() {\n  return axios.get('/api/users')\n}\n\nfunction getUsersDetail(id) {\n  return axios.get(`/api/users/${id}`)\n}\n\nconst PageMockUsers = () => {\n  const { data = {}, error, loading } = useRequest(getUsers);\n  const { data: detailData, error: detailError, loading: detailLoading, run: getDetail } = useRequest(getUsersDetail, {\n    manual: true\n  });\n\n  const columns = [\n    {\n      title: '姓名',\n      dataIndex: 'name',\n    },\n    {\n      title: '年龄',\n      dataIndex: 'age',\n    },\n    {\n      title: '操作',\n      key: 'action',\n      render: (_, record) => <Button onClick={(e) => showModal(record.key, e)} type=\"link\" className='pl-0 pr-0'>详情</Button>,\n    },\n  ];\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const showModal = (key) => {\n    setIsModalOpen(true);\n    getDetail(key);\n  };\n  const handleOk = () => {\n    setIsModalOpen(false);\n  };\n  const handleCancel = () => {\n    setIsModalOpen(false);\n  };\n\n  if (error) {\n    return <div>failed to load</div>;\n  }\n\n  const ModalContent = () => {\n    if (detailError) {\n      return <div>failed to load</div>;\n    }\n    return (\n      <Spin spinning={detailLoading}>\n        <div>{detailData?.data?.name}</div>\n        <div>{detailData?.data?.age}</div>\n        <div>{detailData?.data?.address}</div>\n      </Spin>\n    )\n  }\n  return (\n    <>\n      <Table columns={columns} dataSource={data?.data || []} loading={loading} bordered pagination={false} />\n      <Modal title=\"用户详情\" open={isModalOpen} onOk={handleOk} onCancel={handleCancel}>\n        <ModalContent></ModalContent>\n      </Modal>\n    </>\n  );\n}\n\nexport default PageMockUsers;\n"],"names":["getUsers","axios","getUsersDetail","id","useRequest","data","error","loading","manual","detailData","detailError","detailLoading","getDetail","run","columns","title","dataIndex","key","render","_","record","onClick","e","showModal","type","className","useState","isModalOpen","setIsModalOpen","ModalContent","spinning","name","age","address","dataSource","bordered","pagination","open","onOk","onCancel"],"sourceRoot":""}