"use strict";(self.webpackChunkreact_antd=self.webpackChunkreact_antd||[]).push([[839],{52026:function(e,n,t){var r=t(29439),a=t(72791),s=t(64209),i=t(98180),c=t(78029),l=t(77027),u=t(71810),d=t(87309),o=t(56079),h=t(45657),x=t(80184);n.Z=function(e){var n=e.lang,t=void 0===n?"javascript":n,f=e.children,p=void 0===f?"":f,m=l.ZP.useMessage(),y=(0,r.Z)(m,2),v=y[0],j=y[1],I=(0,a.useState)(!1),C=(0,r.Z)(I,2),g=C[0],w=C[1];return(0,x.jsxs)("div",{className:"relative",children:[j,(0,x.jsxs)("div",{className:"absolute right-1 top-1 flex items-center",children:[(0,x.jsx)("span",{className:"text-zinc-400 mr-3",children:t}),(0,x.jsx)(u.Z,{title:"\u590d\u5236\u4ee3\u7801",children:(0,x.jsx)(c.CopyToClipboard,{text:p,onCopy:function(e,n){e?n?(w(!0),v.success({content:"\u590d\u5236\u6210\u529f\uff01",duration:2,onClose:function(){w(!1)}})):(w(!1),v.error({content:"\u590d\u5236\u5931\u8d25\uff01",duration:2})):v.warning({content:"\u7f3a\u4e4f\u5f85\u590d\u5236\u5185\u5bb9\uff01",duration:2})},children:(0,x.jsx)(d.ZP,{size:"small",className:"opacity-80",icon:g?(0,x.jsx)(o.Z,{}):(0,x.jsx)(h.Z,{})})})})]}),(0,x.jsx)(s.Z,{language:t,showLineNumbers:!0,style:i.Z,customStyle:{borderRadius:"6px",fontSize:"14px",paddingTop:"22px",margin:0},children:p})]})}},94839:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r=t(52202),a=t(52026),s=t(29439),i=t(87309),c=t(72791),l=t(1413),u=t(4439),d=t(98946),o=t(43030),h=t(88052),x=t(79148),f=t(50370),p=t(80184),m=function(e){var n=e.opts,t=void 0===n?{renderer:"svg"}:n,r=e.options,a=void 0===r?{}:r,s=e.seriesData,i=void 0===s?[]:s,m=e.intervalTime,y=void 0===m?1500:m,v=e.autoPlay,j=void 0===v||v,I=e.isAddOn,C=void 0===I||I,g=e.onRef,w=(0,c.useRef)(null),Z=(0,c.useRef)(null),P=(0,c.useRef)({}),T=(0,c.useRef)(null),A=(0,c.useRef)(0),N=(0,c.useRef)(-1),E=(0,c.useRef)(y),D=(0,c.useRef)(!1);function R(){Z.current.on("mouseover","series",(function(e){Z.current.dispatchAction({type:"downplay",seriesIndex:A.current,dataIndex:N.current}),B()})),Z.current.on("mouseout","series",(function(e){(j||D.current)&&z(!0,e.seriesIndex,e.dataIndex-1)}))}function S(){Z.current.off("mouseover"),Z.current.off("mouseout")}function b(){var e=(0,l.Z)((0,l.Z)({},a),{},{series:i});P.current=e,Z.current.setOption(e,!0),e.series.length&&j&&(Z.current.dispatchAction({type:"highlight",seriesIndex:A.current,dataIndex:N.current}),Z.current.dispatchAction({type:"showTip",seriesIndex:A.current,dataIndex:N.current}),z(!1,A.current,N.current<=i[A.current].data.length-1?N.current:-1))}function k(){Z.current&&(C&&S(),"function"===typeof Z.current.clear&&Z.current.clear(),"function"===typeof Z.current.dispose&&Z.current.dispose(),Z.current=null)}function z(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;e&&B(),D.current=!0,A.current=n,N.current=t,T.current||M(n)}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;T.current=setTimeout((function(){M(e)}),E.current)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=P.current.series[e].data.length;Z.current&&Z.current.dispatchAction&&(Z.current.dispatchAction({type:"downplay",seriesIndex:e,dataIndex:N.current}),N.current=(N.current+1)%n,Z.current.dispatchAction({type:"highlight",seriesIndex:e,dataIndex:N.current}),Z.current.dispatchAction({type:"showTip",seriesIndex:e,dataIndex:N.current})),O(e)}function B(){Z.current&&Z.current.dispatchAction&&(Z.current.dispatchAction({type:"downplay",seriesIndex:A.current,dataIndex:N.current}),Z.current.dispatchAction({type:"hideTip"})),T.current&&(clearTimeout(T.current),T.current=null)}(0,d.Z)((function(){k(),Z.current=u.S1(w.current,null,t),b(),C&&R()})),(0,o.Z)((function(){B(),k()})),(0,h.Z)((function(){b()}),[i]),(0,x.Z)((function(){j?z(!1,A.current,N.current):B()}),[j]),(0,x.Z)((function(){E.current=y}),[y]),(0,x.Z)((function(){C?R():S()}),[C]);var L=(0,f.Z)(w);return(0,c.useEffect)((function(){Z.current&&Z.current.resize()}),[L]),(0,c.useImperativeHandle)(g,(function(){return{echartsInstance:function(){return Z.current},echartsPlay:z,echartsPause:B}})),(0,p.jsx)("div",{ref:w,className:"w-full h-full"})},y=r.Z.Title,v=function(){var e=(0,c.useState)([{type:"bar",name:"2015",data:[89.3,92.1,94.4,85.4,88,90]},{type:"bar",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]},{type:"bar",name:"2017",data:[97.7,83.1,92.5,78.1,95,93]}]),n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,p.jsxs)("div",{children:[(0,p.jsx)(y,{level:3,children:"1\u3001\u9ed8\u8ba4\u5c55\u793a\uff0c\u6d4b\u8bd5 seriesData \u53d8\u66f4"}),(0,p.jsx)("div",{children:(0,p.jsx)(i.ZP,{onClick:function(){r([{type:"bar",name:"2015",data:[89.3,92.1,94.4,85.4,50,69]},{type:"bar",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]}])},children:"\u5207\u6362"})}),(0,p.jsx)("div",{className:"w-full h-80",children:(0,p.jsx)(m,{options:{legend:{},xAxis:{type:"category",data:["Matcha Latte","Milk Tea","Cheese Cocoa","Walnut Brownie","Brownie","Cheese"]},yAxis:{},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex"}},seriesData:t})})]})},j=r.Z.Title,I=function(){var e=(0,c.useState)(!1),n=(0,s.Z)(e,2),t=n[0],r=n[1],a=(0,c.useState)([]),l=(0,s.Z)(a,2),u=l[0],d=l[1];return(0,p.jsxs)("div",{children:[(0,p.jsx)(j,{level:3,children:"2\u3001\u9ed8\u8ba4\u4e0d\u5c55\u793a\uff0c\u5c55\u793a\u7684\u65f6\u5019\uff0c\u8bbe\u7f6e seriesData"}),(0,p.jsx)("div",{children:(0,p.jsx)(i.ZP,{onClick:function(){r(!0),d([{type:"bar",name:"2015",data:[89.3,92.1,94.4,85.4]},{type:"bar",name:"2016",data:[95.8,89.4,91.2,76.9]}])},children:"\u5207\u6362"})}),(0,p.jsx)("div",{className:"w-full h-80",children:t&&(0,p.jsx)(m,{options:{legend:{},xAxis:{},yAxis:{type:"category",data:["Latte","Tea","Cocoa","Brownie"]},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex"}},seriesData:u})})]})},C=r.Z.Title,g=function(){var e=(0,c.useState)([{type:"bar",name:"2015",data:[89.3,92.1,94.4,85.4,88,90]},{type:"bar",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]},{type:"bar",name:"2017",data:[97.7,83.1,92.5,78.1,95,93]}]),n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,p.jsxs)("div",{children:[(0,p.jsx)(C,{level:3,children:"3\u3001\u524d\u540e\u4e24\u6b21\u8d4b\u503c\u7684 seriesData[0].data.length \u4e0d\u4e00\u6837\uff0c\u52a8\u753b\u4ece\u5934\u5f00\u59cb"}),(0,p.jsx)("div",{children:(0,p.jsx)(i.ZP,{onClick:function(){r([{type:"bar",name:"2015",data:[89.3,92.1]}])},children:"\u5207\u6362"})}),(0,p.jsx)("div",{className:"w-full h-80",children:(0,p.jsx)(m,{options:{legend:{},xAxis:{type:"category",data:["Matcha Latte","Milk Tea","Cheese Cocoa","Walnut Brownie","Brownie","Cheese"]},yAxis:{},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex"}},seriesData:t})})]})},w=r.Z.Title,Z=function(){var e=(0,c.useState)(!0),n=(0,s.Z)(e,2),t=n[0],r=n[1],a=(0,c.useState)(!0),l=(0,s.Z)(a,2),u=l[0],d=l[1];return(0,p.jsxs)("div",{children:[(0,p.jsx)(w,{level:3,children:"3\u3001\u5207\u6362\u5bbd\u9ad8\uff0c\u81ea\u52a8 resize"}),(0,p.jsxs)("div",{children:[(0,p.jsx)(i.ZP,{onClick:function(){r(!t)},children:"\u5207\u6362\u5bbd\u5ea6"}),(0,p.jsx)(i.ZP,{className:"ml-2",onClick:function(){d(!u)},children:"\u5207\u6362\u9ad8\u5ea6"})]}),(0,p.jsx)("div",{className:"w-full h-80",children:(0,p.jsx)("div",{style:{width:t?"100%":"50%",height:u?"100%":"75%"},children:(0,p.jsx)(m,{options:{legend:{},xAxis:{type:"category",data:["Matcha Latte","Milk Tea","Cheese Cocoa","Walnut Brownie","Brownie","Cheese"]},yAxis:{},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex"}},seriesData:[{type:"line",name:"2015",data:[89.3,92.1,94.4,85.4,88,90]},{type:"line",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]},{type:"line",name:"2017",data:[97.7,83.1,92.5,78.1,95,93]}]})})})]})},P=r.Z.Title,T=function(){var e=(0,c.useState)(!0),n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,p.jsxs)("div",{children:[(0,p.jsx)(P,{level:3,children:"5\u3001\u6539\u53d8 autoPlay \u5f00\u59cb\u7ed3\u675f\u52a8\u753b\uff0c\u4f7f\u7528 autoPlay \u6539\u53d8\u7684\u597d\u5904\u662f\u53ef\u4ee5\u4ece\u4e0a\u6b21\u6682\u505c\u52a8\u753b\u9879\u5904\u7ee7\u7eed\u52a8\u753b"}),(0,p.jsx)("div",{children:(0,p.jsxs)(i.ZP,{onClick:function(){r(!t)},children:[t?"\u7ed3\u675f":"\u5f00\u59cb","\u52a8\u753b"]})}),(0,p.jsx)("div",{className:"w-full h-80",children:(0,p.jsx)(m,{options:{title:{text:"\u997c\u56fe\u7a0b\u5e8f\u8c03\u7528\u9ad8\u4eae\u793a\u4f8b",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)",confine:!0,className:"echart-tooltip-zIndex"},legend:{orient:"vertical",left:"left",data:["\u76f4\u63a5\u8bbf\u95ee","\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u641c\u7d22\u5f15\u64ce"]}},seriesData:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:234,name:"\u8054\u76df\u5e7f\u544a"},{value:135,name:"\u89c6\u9891\u5e7f\u544a"},{value:1548,name:"\u641c\u7d22\u5f15\u64ce"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],autoPlay:t})})]})},A=r.Z.Title,N=function(){var e=c.createRef();return(0,p.jsxs)("div",{children:[(0,p.jsx)(A,{level:3,children:"6\u3001\u901a\u8fc7 ref \u8c03\u7528\u5f00\u59cb\u7ed3\u675f\u52a8\u753b\uff0c\u4f7f\u7528 ref \u8c03\u7528\u7684\u597d\u5904\u662f\u53ef\u4ee5\u6307\u5b9a\u5728\u7b2c\u51e0\u9879\u5f00\u59cb\u52a8\u753b"}),(0,p.jsxs)("div",{children:[(0,p.jsx)(i.ZP,{onClick:function(){e.current.echartsPlay(!0,0,-1)},children:"\u5f00\u59cb\u52a8\u753b"}),(0,p.jsx)(i.ZP,{className:"ml-2",onClick:function(){e.current.echartsPause()},children:"\u7ed3\u675f\u52a8\u753b"}),(0,p.jsx)(i.ZP,{className:"ml-2",onClick:function(){var n=e.current.echartsInstance();n.clear(),n.dispose()},children:"\u83b7\u53d6\u5b9e\u4f8b\uff0c\u9500\u6bc1echarts"})]}),(0,p.jsx)("div",{className:"w-full h-80",children:(0,p.jsx)(m,{onRef:e,options:{title:{text:"\u997c\u56fe\u7a0b\u5e8f\u8c03\u7528\u9ad8\u4eae\u793a\u4f8b",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)",confine:!0,className:"echart-tooltip-zIndex"},legend:{orient:"vertical",left:"left",data:["\u76f4\u63a5\u8bbf\u95ee","\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u641c\u7d22\u5f15\u64ce"]}},seriesData:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:234,name:"\u8054\u76df\u5e7f\u544a"},{value:135,name:"\u89c6\u9891\u5e7f\u544a"},{value:1548,name:"\u641c\u7d22\u5f15\u64ce"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})})]})},E=r.Z.Title,D=function(){var e=(0,c.useState)(5e3),n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,p.jsxs)("div",{children:[(0,p.jsx)(E,{level:3,children:"7\u3001\u5207\u6362\u52a8\u753b\u8df3\u52a8\u65f6\u95f4 5s \u53d8 1s"}),(0,p.jsx)("div",{children:(0,p.jsx)(i.ZP,{onClick:function(){r(1e3)},children:"\u5207\u6362"})}),(0,p.jsx)("div",{className:"w-full h-80",children:(0,p.jsx)(m,{options:{legend:{},xAxis:{type:"category",data:["Matcha Latte","Milk Tea","Cheese Cocoa","Walnut Brownie","Brownie","Cheese"]},yAxis:{},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex"}},seriesData:[{type:"line",name:"2015",data:[89.3,92.1,94.4,85.4,88,90]},{type:"line",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]},{type:"line",name:"2017",data:[97.7,83.1,92.5,78.1,95,93]}],intervalTime:t})})]})},R=r.Z.Title,S=function(){var e=(0,c.useState)(!1),n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,p.jsxs)("div",{children:[(0,p.jsx)(R,{level:3,children:"8\u3001\u901a\u8fc7 isAddOn \u6dfb\u52a0\u79fb\u9664\u9f20\u6807\u4e8b\u4ef6"}),(0,p.jsx)("div",{children:(0,p.jsx)(i.ZP,{onClick:function(){r(!0)},children:t?"\u79fb\u9664":"\u6dfb\u52a0"})}),(0,p.jsx)("div",{className:"w-full h-80",children:(0,p.jsx)(m,{options:{legend:{},xAxis:{type:"category",data:["Matcha Latte","Milk Tea","Cheese Cocoa","Walnut Brownie","Brownie","Cheese"]},yAxis:{},tooltip:{trigger:"axis",className:"echart-tooltip-zIndex"}},seriesData:[{type:"line",name:"2015",data:[89.3,92.1,94.4,85.4,88,90]},{type:"line",name:"2016",data:[95.8,89.4,91.2,76.9,75,68]},{type:"line",name:"2017",data:[97.7,83.1,92.5,78.1,95,93]}],isAddOn:t})})]})},b=r.Z.Title,k=function(){return(0,p.jsxs)("div",{children:[(0,p.jsx)(b,{children:"echarts"}),(0,p.jsx)(b,{level:2,style:{marginTop:"0.5em"},children:"\u5b89\u88c5\uff1a"}),(0,p.jsx)(a.Z,{lang:"sh",children:"npm install echarts --save"}),(0,p.jsx)(b,{level:2,style:{marginTop:"0.5em"},children:"\u4f8b\u5b50\uff1a"}),(0,p.jsxs)("div",{className:"w-full flex",children:[(0,p.jsx)("div",{className:"w-1/2 px-3",children:(0,p.jsx)(v,{})}),(0,p.jsx)("div",{className:"w-1/2 px-3",children:(0,p.jsx)(I,{})})]}),(0,p.jsxs)("div",{className:"w-full flex",children:[(0,p.jsx)("div",{className:"w-1/2 px-3",children:(0,p.jsx)(g,{})}),(0,p.jsx)("div",{className:"w-1/2 px-3",children:(0,p.jsx)(Z,{})})]}),(0,p.jsxs)("div",{className:"w-full flex",children:[(0,p.jsx)("div",{className:"w-1/2 px-3",children:(0,p.jsx)(T,{})}),(0,p.jsx)("div",{className:"w-1/2 px-3",children:(0,p.jsx)(N,{})})]}),(0,p.jsxs)("div",{className:"w-full flex",children:[(0,p.jsx)("div",{className:"w-1/2 px-3",children:(0,p.jsx)(D,{})}),(0,p.jsx)("div",{className:"w-1/2 px-3",children:(0,p.jsx)(S,{})})]}),(0,p.jsx)(b,{level:2,style:{marginTop:"0.5em"},children:"echarts\u7ec4\u4ef6\u5c01\u88c5\uff1a"}),(0,p.jsx)(a.Z,{lang:"jsx",children:"import { useEffect, useImperativeHandle, useRef } from \"react\";\nimport * as echarts from 'echarts';\nimport { useDeepCompareEffect, useMount, useSize, useUnmount, useUpdateEffect } from \"ahooks\";\n\nconst EchartsModule = ({\n  // https://echarts.apache.org/zh/api.html#echarts.init\n  // \u521d\u59cb\u5316\u4f20\u5165\u7684 opts\n  opts = { renderer: 'svg' },\n  // \u914d\u7f6e\u9879\n  options = {},\n  // \u6570\u636e\u96c6\u5408\n  seriesData = [],\n  // \u81ea\u52a8\u5207\u6362\u7684\u65f6\u95f4\u8de8\u5ea6\n  intervalTime = 1500,\n  // \u662f\u5426\u81ea\u52a8\u64ad\u653e\n  autoPlay = true,\n  // \u662f\u5426\u81ea\u52a8\u6dfb\u52a0\u9f20\u6807\u4e0a\u79fb\u4e8b\u4ef6\n  isAddOn = true,\n  onRef\n}) => {\n  \n  const echartsRef = useRef(null);\n  let myChart = useRef(null);\n  let echartsOptions = useRef({});\n  let myChartEventTime = useRef(null);\n  let currentSeriesIndex = useRef(0);\n  let currentDataIndex = useRef(-1);\n  let timer = useRef(intervalTime);\n\n  // \u662f\u5426\u8c03\u7528\u8fc7 echartsPlay\n  let isEchartsPlay = useRef(false);\n  // echarts\u521d\u59cb\u5316\n  function init() {\n    destroyEchart() //\u5224\u65ad\u662f\u5426\u6709echart\u5b9e\u4f8b\uff0c\u5982\u679c\u6709\uff0c\u5148\u9500\u6bc1\n    myChart.current = echarts.init(echartsRef.current, null, opts)\n    update()\n\n    if (isAddOn) {\n      addEventFn()\n    }\n  }\n\n  // \u7ed1\u5b9a\u4e8b\u4ef6\n  function addEventFn() {\n    // \u9f20\u6807\u79fb\u4e0a\u67e5\u770b\u7684\u65f6\u5019\uff0c\u6682\u505c\u52a8\u753b\n    myChart.current.on('mouseover', 'series', event => {\n      // \u53d6\u6d88\u4e4b\u524d\u9ad8\u4eae\u7684\u56fe\u5f62\n      myChart.current.dispatchAction({\n        type: 'downplay',\n        seriesIndex: currentSeriesIndex.current,\n        dataIndex: currentDataIndex.current\n      })\n      echartsPause()\n    })\n    // \u9f20\u6807\u79fb\u51fa\u7684\u65f6\u5019\u6253\u5f00\u52a8\u753b\n    myChart.current.on('mouseout', 'series', event => {\n      // \u81ea\u52a8\u64ad\u653e \u6216\u8005 \u8c03\u7528\u8fc7 echartsPlay\n      if (autoPlay || isEchartsPlay.current) echartsPlay(true, event.seriesIndex, event.dataIndex - 1)\n    })\n  }\n\n  // \u79fb\u9664\u4e8b\u4ef6\n  function removeEventFn() {\n    myChart.current.off('mouseover')\n    myChart.current.off('mouseout')\n  }\n\n  // \u6570\u636e\u66f4\u65b0\n  function update() {\n    // \u903b\u8f91\u5904\u7406\u7ec4\u4ef6options\u53c2\u6570\n    const curOptions = {\n      ...options,\n      series: seriesData\n      // other options here ...\n    }\n    echartsOptions.current = curOptions\n    // \u8c03\u7528ECharts\u7ec4\u4ef6setOption\u66f4\u65b0\n    myChart.current.setOption(curOptions, true)\n    if (curOptions.series.length && autoPlay) {\n      myChart.current.dispatchAction({\n        type: 'highlight',\n        seriesIndex: currentSeriesIndex.current,\n        dataIndex: currentDataIndex.current\n      })\n      // \u663e\u793a tooltip\n      myChart.current.dispatchAction({\n        type: 'showTip',\n        seriesIndex: currentSeriesIndex.current,\n        dataIndex: currentDataIndex.current\n      })\n      echartsPlay(false, currentSeriesIndex.current, currentDataIndex.current <= seriesData[currentSeriesIndex.current].data.length - 1 ? currentDataIndex.current : -1)\n    }\n  }\n\n  // \u9500\u6bc1echarts\n  function destroyEchart() {\n    if (myChart.current) {\n      if (isAddOn) {\n        removeEventFn()\n      }\n      if (typeof myChart.current.clear === 'function') myChart.current.clear()\n      if (typeof myChart.current.dispose === 'function') myChart.current.dispose()\n      myChart.current = null\n    }\n  }\n\n  /**\n   * echarts\u5f00\u542f\u52a8\u753b\uff0c\u53ef\u624b\u52a8\u8c03\u7528\n   * clear: \u662f\u5426\u7acb\u5373\u5f00\u59cb\u52a8\u753b\uff0c\u5e76\u6e05\u9664\u4e0a\u4e2a\u5b9a\u65f6\u5668\uff0c\u5f00\u542f\u4e0b\u4e2a\u5b9a\u65f6\u5668\uff0c\u9ed8\u8ba4\u4e3a false\n   * seriesIndex: series \u4e2d\u7684\u7b2c\u51e0\u9879\u6570\u636e\uff0c\u9ed8\u8ba4\u4e3a 0\n   * dataIndex: series[seriesIndex].data \u4e2d\u7684\u7b2c\u51e0\u9879\uff0c\u9ed8\u8ba4\u4e3a -1\n   */\n  function echartsPlay(clear = false, seriesIndex = 0, dataIndex = -1) {\n    if (clear) {\n      echartsPause()\n    }\n    isEchartsPlay.current = true\n    currentSeriesIndex.current = seriesIndex\n    currentDataIndex.current = dataIndex\n    if (!myChartEventTime.current) {\n      echartsEventPlay(seriesIndex)\n    }\n  }\n\n  function echartsTimeout(seriesIndex = 0) {\n    myChartEventTime.current = setTimeout(() => {\n      echartsEventPlay(seriesIndex)\n    }, timer.current)\n  }\n\n  function echartsEventPlay(seriesIndex = 0) {\n    const dataLen = echartsOptions.current.series[seriesIndex].data.length\n    if (myChart.current && myChart.current.dispatchAction) {\n      // \u53d6\u6d88\u4e4b\u524d\u9ad8\u4eae\u7684\u56fe\u5f62\n      myChart.current.dispatchAction({\n        type: 'downplay',\n        seriesIndex,\n        dataIndex: currentDataIndex.current\n      })\n      currentDataIndex.current = (currentDataIndex.current + 1) % dataLen\n      // \u9ad8\u4eae\u5f53\u524d\u56fe\u5f62\n      myChart.current.dispatchAction({\n        type: 'highlight',\n        seriesIndex,\n        dataIndex: currentDataIndex.current\n      })\n      // \u663e\u793a tooltip\n      myChart.current.dispatchAction({\n        type: 'showTip',\n        seriesIndex,\n        dataIndex: currentDataIndex.current\n      })\n    }\n    echartsTimeout(seriesIndex)\n  }\n\n  // echarts\u5173\u95ed\u52a8\u753b\uff0c\u53ef\u624b\u52a8\u8c03\u7528\n  function echartsPause() {\n    if (myChart.current && myChart.current.dispatchAction) {\n      // \u53d6\u6d88\u4e4b\u524d\u9ad8\u4eae\u7684\u56fe\u5f62\n      myChart.current.dispatchAction({\n        type: 'downplay',\n        seriesIndex: currentSeriesIndex.current,\n        dataIndex: currentDataIndex.current\n      })\n      // \u53d6\u6d88\u663e\u793a tooltip\n      myChart.current.dispatchAction({\n        type: 'hideTip'\n      })\n    }\n    if (myChartEventTime.current) {\n      clearTimeout(myChartEventTime.current)\n      myChartEventTime.current = null\n    }\n  }\n\n  // \u91cd\u7f6e\u5927\u5c0f\n  const echartsResize = () => {\n    if (myChart.current) myChart.current.resize()\n  }\n\n  useMount(() => {\n    init()\n  })\n  useUnmount(() => {\n    echartsPause()\n    destroyEchart()\n  })\n\n  useDeepCompareEffect(() => {\n    update()\n  }, [seriesData])\n\n  useUpdateEffect(() => {\n    if (autoPlay) {\n      echartsPlay(false, currentSeriesIndex.current, currentDataIndex.current)\n    } else {\n      echartsPause()\n    }\n  }, [autoPlay])\n\n  useUpdateEffect(() => {\n    timer.current = intervalTime\n  }, [intervalTime])\n\n  useUpdateEffect(() => {\n    if (isAddOn) {\n      addEventFn()\n    } else {\n      removeEventFn()\n    }\n  }, [isAddOn])\n\n  const size = useSize(echartsRef)\n  useEffect(() => {\n    echartsResize()\n  }, [size])\n\n  useImperativeHandle(onRef, () => {\n    return {\n      echartsInstance: () => myChart.current,\n      echartsPlay,\n      echartsPause\n    }\n  });\n\n  return (\n    <div ref={echartsRef} className=\"w-full h-full\"></div>\n  );\n};\n\nexport default EchartsModule;"})]})}}}]);
//# sourceMappingURL=839.cf6893a9.chunk.js.map