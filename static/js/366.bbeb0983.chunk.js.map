{"version":3,"file":"static/js/366.bbeb0983.chunk.js","mappings":"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","sources":["../node_modules/@rc-component/mutate-observer/es/wapper.js","../node_modules/@rc-component/mutate-observer/es/index.js","../node_modules/antd/es/watermark/utils.js","../node_modules/antd/es/watermark/index.js","router/RouterExtend.jsx","layout/AllLayout.jsx","utils/router.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport React from 'react';\n\nvar DomWrapper = /*#__PURE__*/function (_React$Component) {\n  _inherits(DomWrapper, _React$Component);\n\n  var _super = _createSuper(DomWrapper);\n\n  function DomWrapper() {\n    _classCallCheck(this, DomWrapper);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DomWrapper, [{\n    key: \"render\",\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return DomWrapper;\n}(React.Component);\n\nexport default DomWrapper;","import React, { useEffect, useRef } from 'react';\nimport { composeRef, supportRef } from \"rc-util/es/ref\";\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport DomWrapper from \"./wapper\";\nvar defOptions = {\n  subtree: true,\n  childList: true,\n  attributeFilter: ['style', 'class']\n};\n\nvar MutateObserver = function MutateObserver(props) {\n  var children = props.children,\n      _props$options = props.options,\n      options = _props$options === void 0 ? defOptions : _props$options,\n      _props$onMutate = props.onMutate,\n      onMutate = _props$onMutate === void 0 ? function () {} : _props$onMutate;\n  var callback = useEvent(onMutate);\n  var wrapperRef = useRef(null);\n  var elementRef = React.useRef(null);\n  var canRef = /*#__PURE__*/React.isValidElement(children) && supportRef(children);\n  var originRef = canRef ? children === null || children === void 0 ? void 0 : children.ref : null;\n  var mergedRef = React.useMemo(function () {\n    return composeRef(originRef, elementRef);\n  }, [originRef, elementRef]);\n  useEffect(function () {\n    if (!canUseDom()) {\n      return;\n    }\n\n    var instance;\n    var currentElement = findDOMNode(originRef === null || originRef === void 0 ? void 0 : originRef.current) || findDOMNode(wrapperRef === null || wrapperRef === void 0 ? void 0 : wrapperRef.current);\n\n    if (currentElement && 'MutationObserver' in window) {\n      instance = new MutationObserver(callback);\n      instance.observe(currentElement, options);\n    }\n\n    return function () {\n      var _instance, _instance2;\n\n      (_instance = instance) === null || _instance === void 0 ? void 0 : _instance.takeRecords();\n      (_instance2 = instance) === null || _instance2 === void 0 ? void 0 : _instance2.disconnect();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options, originRef]);\n\n  if (!children) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('MutationObserver need children props');\n    }\n\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(DomWrapper, {\n    ref: wrapperRef\n  }, canRef ? /*#__PURE__*/React.cloneElement(children, {\n    ref: mergedRef\n  }) : children);\n};\n\nexport default MutateObserver;","/** converting camel-cased strings to be lowercase and link it with Separato */\nexport function toLowercaseSeparator(key) {\n  return key.replace(/([A-Z])/g, '-$1').toLowerCase();\n}\nexport function getStyleStr(style) {\n  return Object.keys(style).map(key => `${toLowercaseSeparator(key)}: ${style[key]};`).join(' ');\n}\n/** Returns the ratio of the device's physical pixel resolution to the css pixel resolution */\nexport function getPixelRatio() {\n  return window.devicePixelRatio || 1;\n}\n/** Rotate with the watermark as the center point */\nexport function rotateWatermark(ctx, rotateX, rotateY, rotate) {\n  ctx.translate(rotateX, rotateY);\n  ctx.rotate(Math.PI / 180 * Number(rotate));\n  ctx.translate(-rotateX, -rotateY);\n}\n/** Whether to re-render the watermark */\nexport const reRendering = (mutation, watermarkElement) => {\n  let flag = false;\n  // Whether to delete the watermark node\n  if (mutation.removedNodes.length) {\n    flag = Array.from(mutation.removedNodes).some(node => node === watermarkElement);\n  }\n  // Whether the watermark dom property value has been modified\n  if (mutation.type === 'attributes' && mutation.target === watermarkElement) {\n    flag = true;\n  }\n  return flag;\n};","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport React, { useEffect, useRef } from 'react';\nimport MutateObserver from '@rc-component/mutate-observer';\nimport { getStyleStr, getPixelRatio, rotateWatermark, reRendering } from './utils';\n/**\n * Base size of the canvas, 1 for parallel layout and 2 for alternate layout\n * Only alternate layout is currently supported\n */\nconst BaseSize = 2;\nconst FontGap = 3;\nconst Watermark = props => {\n  var _a, _b;\n  const {\n    /**\n     * The antd content layer zIndex is basically below 10\n     * https://github.com/ant-design/ant-design/blob/6192403b2ce517c017f9e58a32d58774921c10cd/components/style/themes/default.less#L335\n     */\n    zIndex = 9,\n    rotate = -22,\n    width,\n    height,\n    image,\n    content,\n    font = {},\n    style,\n    className,\n    gap = [100, 100],\n    offset,\n    children\n  } = props;\n  const {\n    color = 'rgba(0,0,0,.15)',\n    fontSize = 16,\n    fontWeight = 'normal',\n    fontStyle = 'normal',\n    fontFamily = 'sans-serif'\n  } = font;\n  const [gapX, gapY] = gap;\n  const gapXCenter = gapX / 2;\n  const gapYCenter = gapY / 2;\n  const offsetLeft = (_a = offset === null || offset === void 0 ? void 0 : offset[0]) !== null && _a !== void 0 ? _a : gapXCenter;\n  const offsetTop = (_b = offset === null || offset === void 0 ? void 0 : offset[1]) !== null && _b !== void 0 ? _b : gapYCenter;\n  const getMarkStyle = () => {\n    const markStyle = {\n      zIndex,\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      pointerEvents: 'none',\n      backgroundRepeat: 'repeat'\n    };\n    /** Calculate the style of the offset */\n    let positionLeft = offsetLeft - gapXCenter;\n    let positionTop = offsetTop - gapYCenter;\n    if (positionLeft > 0) {\n      markStyle.left = `${positionLeft}px`;\n      markStyle.width = `calc(100% - ${positionLeft}px)`;\n      positionLeft = 0;\n    }\n    if (positionTop > 0) {\n      markStyle.top = `${positionTop}px`;\n      markStyle.height = `calc(100% - ${positionTop}px)`;\n      positionTop = 0;\n    }\n    markStyle.backgroundPosition = `${positionLeft}px ${positionTop}px`;\n    return markStyle;\n  };\n  const containerRef = useRef(null);\n  const watermarkRef = useRef();\n  const stopObservation = useRef(false);\n  const destroyWatermark = () => {\n    if (watermarkRef.current) {\n      watermarkRef.current.remove();\n      watermarkRef.current = undefined;\n    }\n  };\n  const appendWatermark = (base64Url, markWidth) => {\n    var _a;\n    if (containerRef.current && watermarkRef.current) {\n      stopObservation.current = true;\n      watermarkRef.current.setAttribute('style', getStyleStr(Object.assign(Object.assign({}, getMarkStyle()), {\n        backgroundImage: `url('${base64Url}')`,\n        backgroundSize: `${(gapX + markWidth) * BaseSize}px`\n      })));\n      (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.append(watermarkRef.current);\n      // Delayed execution\n      setTimeout(() => {\n        stopObservation.current = false;\n      });\n    }\n  };\n  /**\n   * Get the width and height of the watermark. The default values are as follows\n   * Image: [120, 64]; Content: It's calculated by content;\n   */\n  const getMarkSize = ctx => {\n    let defaultWidth = 120;\n    let defaultHeight = 64;\n    if (!image && ctx.measureText) {\n      ctx.font = `${Number(fontSize)}px ${fontFamily}`;\n      const contents = Array.isArray(content) ? content : [content];\n      const widths = contents.map(item => ctx.measureText(item).width);\n      defaultWidth = Math.ceil(Math.max.apply(Math, _toConsumableArray(widths)));\n      defaultHeight = Number(fontSize) * contents.length + (contents.length - 1) * FontGap;\n    }\n    return [width !== null && width !== void 0 ? width : defaultWidth, height !== null && height !== void 0 ? height : defaultHeight];\n  };\n  const fillTexts = (ctx, drawX, drawY, drawWidth, drawHeight) => {\n    const ratio = getPixelRatio();\n    const mergedFontSize = Number(fontSize) * ratio;\n    ctx.font = `${fontStyle} normal ${fontWeight} ${mergedFontSize}px/${drawHeight}px ${fontFamily}`;\n    ctx.fillStyle = color;\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'top';\n    ctx.translate(drawWidth / 2, 0);\n    const contents = Array.isArray(content) ? content : [content];\n    contents === null || contents === void 0 ? void 0 : contents.forEach((item, index) => {\n      ctx.fillText(item !== null && item !== void 0 ? item : '', drawX, drawY + index * (mergedFontSize + FontGap * ratio));\n    });\n  };\n  const renderWatermark = () => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (ctx) {\n      if (!watermarkRef.current) {\n        watermarkRef.current = document.createElement('div');\n      }\n      const ratio = getPixelRatio();\n      const [markWidth, markHeight] = getMarkSize(ctx);\n      const canvasWidth = (gapX + markWidth) * ratio;\n      const canvasHeight = (gapY + markHeight) * ratio;\n      canvas.setAttribute('width', `${canvasWidth * BaseSize}px`);\n      canvas.setAttribute('height', `${canvasHeight * BaseSize}px`);\n      const drawX = gapX * ratio / 2;\n      const drawY = gapY * ratio / 2;\n      const drawWidth = markWidth * ratio;\n      const drawHeight = markHeight * ratio;\n      const rotateX = (drawWidth + gapX * ratio) / 2;\n      const rotateY = (drawHeight + gapY * ratio) / 2;\n      /** Alternate drawing parameters */\n      const alternateDrawX = drawX + canvasWidth;\n      const alternateDrawY = drawY + canvasHeight;\n      const alternateRotateX = rotateX + canvasWidth;\n      const alternateRotateY = rotateY + canvasHeight;\n      ctx.save();\n      rotateWatermark(ctx, rotateX, rotateY, rotate);\n      if (image) {\n        const img = new Image();\n        img.onload = () => {\n          ctx.drawImage(img, drawX, drawY, drawWidth, drawHeight);\n          /** Draw interleaved pictures after rotation */\n          ctx.restore();\n          rotateWatermark(ctx, alternateRotateX, alternateRotateY, rotate);\n          ctx.drawImage(img, alternateDrawX, alternateDrawY, drawWidth, drawHeight);\n          appendWatermark(canvas.toDataURL(), markWidth);\n        };\n        img.crossOrigin = 'anonymous';\n        img.referrerPolicy = 'no-referrer';\n        img.src = image;\n      } else {\n        fillTexts(ctx, drawX, drawY, drawWidth, drawHeight);\n        /** Fill the interleaved text after rotation */\n        ctx.restore();\n        rotateWatermark(ctx, alternateRotateX, alternateRotateY, rotate);\n        fillTexts(ctx, alternateDrawX, alternateDrawY, drawWidth, drawHeight);\n        appendWatermark(canvas.toDataURL(), markWidth);\n      }\n    }\n  };\n  const onMutate = mutations => {\n    if (stopObservation.current) {\n      return;\n    }\n    mutations.forEach(mutation => {\n      if (reRendering(mutation, watermarkRef.current)) {\n        destroyWatermark();\n        renderWatermark();\n      }\n    });\n  };\n  useEffect(renderWatermark, [rotate, zIndex, width, height, image, content, color, fontSize, fontWeight, fontStyle, fontFamily, gapX, gapY, offsetLeft, offsetTop]);\n  return /*#__PURE__*/React.createElement(MutateObserver, {\n    onMutate: onMutate\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: containerRef,\n    className: className,\n    style: Object.assign({\n      position: 'relative'\n    }, style)\n  }, children));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Watermark.displayName = 'Watermark';\n}\nexport default Watermark;","import React from 'react';\nimport { useLocation, Navigate } from \"react-router-dom\";\nimport { useSelector } from 'react-redux';\nimport { addPrefixName, getType, getFinalValue } from '../utils/index';\nimport Cookies from 'js-cookie';\nimport { searchRoute } from '../utils/router';\nimport { routerList } from './index';\nimport { useTitle } from 'ahooks';\nimport { useTranslation } from 'react-i18next';\nimport { Watermark } from 'antd';\nimport config from '../config';\n\n\nconst RouterExtend = (props) => {\n  const { t } = useTranslation();\n\tconst location = useLocation();\n  const route = searchRoute(location.pathname, routerList[0].children);\n\t\n\tconst userInfo = useSelector(state => state.userInfo.value);\n\n  let curRoute = route\n  if (route.children && route.children[0]?.index) {\n    curRoute = route.children[0]\n  }\n  \n\t// 此处利用多语言 t('aaa') 是否等于 'aaa' 来判断是否使用多语言\n  useTitle(getFinalValue(t, curRoute.meta?.title))\n\n\tif (route.redirect) return <Navigate to={route.redirect} replace />;\n\n  // TODO 在跳转路由之前，清除所有的请求\n\n\tlet watermarkContent = route.watermark ? (getType(route.watermark) === 'object' ? route.watermark.user.map(key => userInfo[key]) : (getType(route.watermark) === 'boolean' ? config.watermark : route.watermark)) : '';\n\tconst watermarkChildren = <Watermark content={watermarkContent}>{ props.children }</Watermark>;\n\n\t// * 判断当前路由是否需要访问权限(不需要权限直接放行)\n\tif (!route.requiresAuth && !route.access) return watermarkChildren;\n\n\t// * 判断是否有Token\n  const accessToken = Cookies.get(addPrefixName('accessToken'));\n\tif (!accessToken) return <Navigate to=\"/login\" replace />;\n\n\tif (route.access) {\n\t\tconst noAccessPath = config.noAccessPath || '/403';\n\t\tif (!userInfo.access.includes(route.access)) return <Navigate to={noAccessPath} />;\n\t}\n\n\t// 当前账号有权限返回 Router，正常访问页面\n\treturn watermarkChildren;\n};\n\nexport default RouterExtend;\n","import React from 'react';\r\nimport { Outlet, ScrollRestoration } from 'react-router-dom';\r\nimport RouterExtend from '../router/RouterExtend';\r\nimport { AliveScope } from 'react-activation';\r\n\r\nconst AllLayout = () => {\r\n  return (\r\n    <>\r\n      <ScrollRestoration\r\n        getKey={(location) => {\r\n          return location.pathname;\r\n        }}\r\n      />\r\n      <AliveScope>\r\n        <RouterExtend>\r\n          <Outlet />\r\n        </RouterExtend>\r\n      </AliveScope>\r\n    </>\r\n  )\r\n};\r\n\r\nexport default AllLayout;\r\n","/**\r\n * @description 递归查询对应的路由\r\n * @param {String} path 当前访问地址\r\n * @param {Array} routes 路由列表\r\n * @returns array\r\n */\r\nexport const searchRoute = (path = '', routes = []) => {\r\n\tlet result = {};\r\n\tfor (let item of routes) {\r\n\t\tif (item.path === path) return item;\r\n\t\tif (item.children) {\r\n\t\t\tconst res = searchRoute(path, item.children);\r\n\t\t\tif (Object.keys(res).length) result = res;\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n};\r\n\r\n/**\r\n * @description 递归查询menu可展示的路由\r\n * @param {Array} routes 路由列表\r\n * @returns array\r\n */\r\nexport const searchShowMenuRoutes = (routes = []) => {\r\n\tlet result = [];\r\n\tfor (let item of routes) {\r\n\t\tif (!item.hideInMenu) {\r\n      if (item.children) {\r\n        result.push({\r\n          ...item,\r\n          children: searchShowMenuRoutes(item.children)\r\n        })\r\n      } else {\r\n        result.push(item)\r\n      }\r\n    }\r\n\t}\r\n\treturn result;\r\n};\r\n\r\n/**\r\n * 递归menu可展示的路由根据权限过滤\r\n * @param {*} routes 路由列表\r\n * @param {*} access 权限列表\r\n * @returns array\r\n */\r\nexport const showMenuRoutesFilterAccess = (routes = [], access = []) => {\r\n  let result = [];\r\n\tfor (let item of routes) {\r\n    if (!item.access || access.includes(item.access)) {\r\n      if (item.children) {\r\n        item.children = showMenuRoutesFilterAccess(item.children, access)\r\n      }\r\n      result.push(item)\r\n    }\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * @description 递归menu可展示的路由转换为Menu导航菜单\r\n * @param {Array} routes 路由列表\r\n * @returns array\r\n */\r\nexport const showMenuRoutesToMenuItems = (routes = []) => {\r\n\tlet result = [];\r\n\tfor (let item of routes) {\r\n    if (item.children) {\r\n      result.push({\r\n        key: item.path,\r\n        icon: item.meta?.icon,\r\n        label: item.meta?.title,\r\n        children: showMenuRoutesToMenuItems(item.children)\r\n      })\r\n    } else {\r\n      result.push({\r\n        key: item.path,\r\n        icon: item.meta?.icon,\r\n        label: item.meta?.title,\r\n      })\r\n    }\r\n\t}\r\n\treturn result;\r\n};\r\n"],"names":["DomWrapper","_React$Component","_inherits","_super","_createSuper","_classCallCheck","this","apply","arguments","_createClass","key","value","props","children","React","defOptions","subtree","childList","attributeFilter","_props$options","options","_props$onMutate","onMutate","callback","useEvent","wrapperRef","useRef","elementRef","canRef","supportRef","originRef","ref","mergedRef","composeRef","useEffect","canUseDom","instance","currentElement","findDOMNode","current","window","MutationObserver","observe","_instance","_instance2","takeRecords","disconnect","getPixelRatio","devicePixelRatio","rotateWatermark","ctx","rotateX","rotateY","rotate","translate","Math","PI","Number","_a","_b","zIndex","width","height","image","content","font","style","className","gap","offset","color","fontSize","fontWeight","fontStyle","fontFamily","gapX","gapY","gapXCenter","gapYCenter","offsetLeft","offsetTop","containerRef","watermarkRef","stopObservation","appendWatermark","base64Url","markWidth","setAttribute","Object","keys","map","replace","toLowerCase","toLowercaseSeparator","join","getStyleStr","assign","markStyle","position","left","top","pointerEvents","backgroundRepeat","positionLeft","positionTop","backgroundPosition","getMarkStyle","backgroundImage","backgroundSize","append","setTimeout","fillTexts","drawX","drawY","drawWidth","drawHeight","ratio","mergedFontSize","fillStyle","textAlign","textBaseline","contents","Array","isArray","forEach","item","index","fillText","renderWatermark","canvas","document","createElement","getContext","defaultWidth","defaultHeight","measureText","widths","ceil","max","_toConsumableArray","length","getMarkSize","markHeight","canvasWidth","canvasHeight","alternateDrawX","alternateDrawY","alternateRotateX","alternateRotateY","save","img","Image","onload","drawImage","restore","toDataURL","crossOrigin","referrerPolicy","src","MutateObserver","mutations","mutation","watermarkElement","flag","removedNodes","from","some","node","type","target","reRendering","remove","undefined","t","useTranslation","location","useLocation","route","searchRoute","pathname","routerList","userInfo","useSelector","state","curRoute","useTitle","getFinalValue","meta","title","redirect","to","watermarkContent","watermark","getType","user","config","watermarkChildren","requiresAuth","access","Cookies","addPrefixName","noAccessPath","includes","getKey","AliveScope","path","routes","result","res","searchShowMenuRoutes","hideInMenu","push","showMenuRoutesFilterAccess","showMenuRoutesToMenuItems","icon","label"],"sourceRoot":""}