"use strict";(self.webpackChunkreact_antd=self.webpackChunkreact_antd||[]).push([[969],{41329:function(e,n,t){var i=t(93433),r=t(1413),a=t(29439),l=t(72791),o=t(83574),c=t(98422),s=t(1067),d=t(15287),u=t(46401),h=t(31016),f=t.n(h),v=t(2703),p=t(80184),x="DraggableTabNode",m=function(e){var n=e.index,t=e.children,i=e.moveNode,r=e.canDragEvent,o=e.canDropEvent,d=(0,v.RQ)(),u=(0,l.useRef)(null),h=(0,c.L)({accept:x,collect:function(e){return(e.getItem()||{}).index===n?{}:{isOver:e.isOver()}},canDrop:function(){return o(n)},hover:function(e){o(n)&&i(e.index,n)}}),f=(0,a.Z)(h,2),m=f[0].isOver,g=f[1],y=(0,s.c)({type:x,item:{index:n},collect:function(e){return{isDragging:e.isDragging()}},canDrag:function(){return r(n)}}),Z=(0,a.Z)(y,2),b=Z[0].isDragging;g((0,Z[1])(u));var j={opacity:1};return m&&(j.color=d),b&&(j.opacity=0,j.transition="all 0.8s"),(0,p.jsx)("div",{ref:u,style:j,children:t})};n.Z=function(e){var n=e.items,t=void 0===n?[]:n,c=e.onDragEndEvent,s=e.canDragEvent,h=e.canDropEvent,v=(0,l.useState)([]),x=(0,a.Z)(v,2),g=x[0],y=x[1],Z=function(e,n){var i=g.slice();t.forEach((function(e){e.key&&-1===i.indexOf(e.key)&&i.push(e.key)}));var r=i.indexOf(e),a=i.indexOf(n);i.splice(r,1),i.splice(a,0,e),c(i),y(i)},b=(0,i.Z)(t).sort((function(e,n){var i=g.indexOf(e.key),r=g.indexOf(n.key);return-1!==i&&-1!==r?i-r:-1!==i?-1:-1!==r?1:t.indexOf(e)-t.indexOf(n)})),j=f()(e);return delete j.onDragEndEvent,delete j.canDragEvent,delete j.canDropEvent,(0,p.jsx)(d.W,{backend:u.PD,children:(0,p.jsx)(o.Z,(0,r.Z)((0,r.Z)({renderTabBar:function(e,n){return(0,p.jsx)(n,(0,r.Z)((0,r.Z)({},e),{},{children:function(e){return(0,p.jsx)(m,{index:e.key,moveNode:Z,canDragEvent:s,canDropEvent:h,children:e},e.key)}}))}},j),{},{items:b}))})}},83916:function(e,n,t){t.d(n,{Z:function(){return d}});var i=t(29439),r=(0,t(92721).Z)({scriptUrl:"//at.alicdn.com/t/c/font_3796796_zcpz7u9c75j.js"}),a=t(59434),l=t(90263),o=t(81357),c=t(2703),s=t(80184),d=function(e){var n=e.addClass,t=(0,c.RQ)(),d=(0,l.Z)((0,c.hi)("locale")),u=(0,i.Z)(d,2)[1],h=(0,a.v9)((function(e){return e.locale.value})),f=(0,a.I0)();return(0,s.jsxs)("div",{className:"flex items-center cursor-pointer ".concat(n),onClick:function(){return e="zhCN"===h?"enGb":"zhCN",f((0,o.wo)(e)),void u(e);var e},children:[(0,s.jsx)(r,{type:"zhCN"===h?"icon-zhongyingwenqiehuan-zhongwen":"icon-zhongyingwenqiehuan-yingwen",className:"text-24",style:{color:t}}),(0,s.jsx)("span",{className:"ml-1",children:"zhCN"===h?"\u4e2d\u6587":"English"})]})}},21969:function(e,n,t){t.r(n);var i,r=t(93433),a=t(1413),l=t(29439),o=t(72791),c=t(53621),s=t(75797),d=t(25671),u=t(83388),h=t(20043),f=t(26455),v=t(57689),p=t(11087),x=t(59434),m=t(39230),g=t(31016),y=t.n(g),Z=t(83916),b=t(88329),j=t(2703),k=t(24889),w=t(13799),N=t(65583),O=t(40077),z=t(41329),E=t(80184),S=d.Z.Header,D=d.Z.Content,C=d.Z.Sider,I=(0,k.B3)(N.O[0].children);I=null===(i=I[0])||void 0===i?void 0:i.children;var B=(0,k.RZ)(I);n.default=function(){var e,n,t=(0,m.$G)().t,i=(0,o.useState)(!1),g=(0,l.Z)(i,2),I=g[0],T=g[1],H=(0,x.v9)((function(e){return e.userInfo.value})),K=(0,v.TH)(),R=K.pathname.slice(1).split("/").map((function(e,n,t){return"/".concat(t.slice(0,n+1).join("/"))})),F=(0,o.useState)(R),J=(0,l.Z)(F,2),_=J[0],G=J[1],P=(0,k.zF)(K.pathname,N.O[0].children),q=[],A=O.Z.isShowBreadcrumb&&!(null!==(e=P.meta)&&void 0!==e&&e.isHideBreadcrumb);A&&(q=R.map((function(e){var n=(0,k.zF)(e,N.O[0].children);return n.redirect?(0,a.Z)((0,a.Z)({},n),{},{path:n.redirect}):n})));var L,Q,U=[{key:"user",label:H.name,children:[{key:"logout",label:"\u9000\u51fa\u767b\u5f55"}]}],M=(0,x.I0)(),W=(0,v.s0)(),Y=O.Z.isShowTabs&&!(null!==(n=P.meta)&&void 0!==n&&n.isHideTabs);Y&&((L=(L=window.localStorage.getItem((0,j.hi)("tabs")))?JSON.parse(L):[{key:"/home/analysis",label:"\u9996\u9875",closable:!1}]).map((function(e){return e.key})).includes(P.path)||(L.push({key:P.path,label:(0,j.zl)(t,null===(Q=P.meta)||void 0===Q?void 0:Q.title)}),window.localStorage.setItem((0,j.hi)("tabs"),JSON.stringify(L))));var $=(0,o.useState)(L),V=(0,l.Z)($,2),X=V[0],ee=V[1];L&&X.length!==L.length&&ee(L);var ne=function(e){var n=e.slice(1).split("/").map((function(e,n,t){return"/".concat(t.slice(0,n+1).join("/"))})).slice(0,-1);G([].concat((0,r.Z)(_),(0,r.Z)(n)))};return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(d.Z,{children:[(0,E.jsxs)(S,{className:"flex",style:{position:"fixed",left:0,right:0,height:"64px",zIndex:10},children:[(0,E.jsx)("div",{className:"flex-shrink-0 w-32 h-8 my-4 bg-gray-500"}),(0,E.jsx)("div",{className:"flex items-center justify-center",children:(0,E.jsx)("div",{className:"text-gray-200 px-4 text-16 hover:text-white cursor-pointer",children:o.createElement(I?c.Z:s.Z,{onClick:function(){return T(!I)}})})}),(0,E.jsxs)("div",{className:"flex-auto flex items-center justify-end",children:[O.Z.isShowToggleLang&&(0,E.jsx)(Z.Z,{addClass:"text-gray-400 hover:text-white"}),(0,E.jsx)(u.Z,{theme:"dark",mode:"horizontal",items:U,onClick:function(e){"logout"===e.key&&(b.Z.remove((0,j.hi)("accessToken")),window.localStorage.removeItem((0,j.hi)("tabs")),M((0,w.ps)({name:""})),W("/login"))}})]})]}),(0,E.jsxs)(d.Z,{children:[(0,E.jsx)(C,{width:200,collapsible:!0,collapsed:I,onCollapse:function(e){return T(e)},style:{position:"fixed",left:0,top:"64px",bottom:0,zIndex:10},children:(0,E.jsx)(u.Z,{theme:"dark",mode:"inline",defaultOpenKeys:R,openKeys:_,defaultSelectedKeys:[K.pathname],selectedKeys:[K.pathname],style:{minHeight:"100%",borderRight:0,overflowY:"auto"},items:B,onClick:function(e){var n=e.key;W(n)},onOpenChange:function(e){return G(e)}})}),(0,E.jsxs)(d.Z,{className:"bg-white",style:{margin:I?"64px 0 0 80px":"64px 0 0 200px",boxSizing:"border-box"},children:[Y&&(0,E.jsx)("div",{style:{height:"40px"},children:(0,E.jsx)(z.Z,{defaultActiveKey:K.pathname,activeKey:K.pathname,items:X,onChange:function(e){W(e),ne(e)},onEdit:function(e,n){if("remove"===n){var t=y()(X),i=t.findIndex((function(n){return n.key===e}));if(t.splice(i,1),window.localStorage.setItem((0,j.hi)("tabs"),JSON.stringify(t)),ee(t),e===K.pathname){var r=t[i-1].key;W(r),ne(r)}}},onDragEndEvent:function(e){var n=[];e.forEach((function(e){n.push(X.find((function(n){return n.key===e})))})),ee(n),window.localStorage.setItem((0,j.hi)("tabs"),JSON.stringify(n))},canDragEvent:function(e){var n=X.find((function(n){return n.key===e})),t=!0;return n.hasOwnProperty("closable")&&!n.closable&&(t=!1),t},canDropEvent:function(e){var n=X.find((function(n){return n.key===e})),t=!0;return n.hasOwnProperty("closable")&&!n.closable&&(t=!1),t},type:"editable-card",hideAdd:!0,tabBarGutter:0,tabBarStyle:{margin:0},style:{position:"fixed",top:"64px",left:I?"80px":"200px",right:0,zIndex:10},className:"bg-white"})}),(0,E.jsx)(o.Suspense,{fallback:(0,E.jsx)(h.Z,{tip:"\u52a0\u8f7d\u4e2d...",size:"large",children:(0,E.jsx)("div",{className:"w-full",style:{height:"calc(100vh - 64px - 48px)"}})}),children:(0,E.jsxs)(D,{style:{minHeight:"auto",padding:"24px"},children:[A&&(0,E.jsx)(f.Z,{className:"mb-6",children:q.map((function(e){var n,i,r,a;return(0,E.jsx)(f.Z.Item,{children:e.path===K.pathname?(0,E.jsxs)(E.Fragment,{children:[null===(n=e.meta)||void 0===n?void 0:n.icon,(0,j.zl)(t,null===(i=e.meta)||void 0===i?void 0:i.title)]}):(0,E.jsxs)(p.rU,{to:e.path,children:[null===(r=e.meta)||void 0===r?void 0:r.icon,(0,j.zl)(t,null===(a=e.meta)||void 0===a?void 0:a.title)]})},e.path)}))}),(0,E.jsx)(v.j3,{})]})})]})]})]})})}},24889:function(e,n,t){t.d(n,{B3:function(){return l},RZ:function(){return o},zF:function(){return a}});var i=t(1413),r=t(37762),a=function e(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a={},l=(0,r.Z)(i);try{for(l.s();!(n=l.n()).done;){var o=n.value;if(o.path===t)return o;if(o.children){var c=e(t,o.children);Object.keys(c).length&&(a=c)}}}catch(s){l.e(s)}finally{l.f()}return a},l=function e(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[],l=(0,r.Z)(t);try{for(l.s();!(n=l.n()).done;){var o=n.value;o.hideInMenu||(o.children?a.push((0,i.Z)((0,i.Z)({},o),{},{children:e(o.children)})):a.push(o))}}catch(c){l.e(c)}finally{l.f()}return a},o=function e(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=[],a=(0,r.Z)(t);try{for(a.s();!(n=a.n()).done;){var l,o,c,s,d=n.value;if(d.children)i.push({key:d.path,icon:null===(l=d.meta)||void 0===l?void 0:l.icon,label:null===(o=d.meta)||void 0===o?void 0:o.title,children:e(d.children)});else i.push({key:d.path,icon:null===(c=d.meta)||void 0===c?void 0:c.icon,label:null===(s=d.meta)||void 0===s?void 0:s.title})}}catch(u){a.e(u)}finally{a.f()}return i}}}]);
//# sourceMappingURL=969.d01f4b12.chunk.js.map