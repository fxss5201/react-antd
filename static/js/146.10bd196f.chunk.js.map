{"version":3,"file":"static/js/146.10bd196f.chunk.js","mappings":"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","sources":["pages/login/components/PasswordLogin.jsx","../node_modules/@ant-design/icons-svg/es/asn/MobileOutlined.js","../node_modules/@ant-design/icons/es/icons/MobileOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/SafetyCertificateOutlined.js","../node_modules/@ant-design/icons/es/icons/SafetyCertificateOutlined.js","pages/login/components/VerificationLogin.jsx","pages/login/index.jsx","../node_modules/ahooks/es/useCountDown/index.js","../node_modules/ahooks/es/createUseStorageState/index.js","../node_modules/ahooks/es/useLocalStorageState/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { LockOutlined, UserOutlined } from '@ant-design/icons';\nimport { Button, Checkbox, Form, Input, message, theme } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useLocalStorageState, useMount, useUnmount } from 'ahooks';\nimport { addPrefixName, encryptFn, decryptFn } from '../../../utils/index';\nimport Cookies from 'js-cookie';\nimport { useDispatch } from 'react-redux';\nimport { setUserInfo } from './../../../store/userInfo';\n\nconst { useToken } = theme;\n\nconst PasswordLogin = ({ activeKey }) => {\n  const { token } = useToken();\n  const { colorPrimary } = token;\n  const [isValidate, setIsValidate] = useState(false);\n  const [localLoginInfo, setLocalLoginInfo] = useLocalStorageState(addPrefixName('loginInfo'));\n\n  const [form] = Form.useForm()\n  useMount(() => {\n    if (localLoginInfo) {\n      form.setFieldsValue({\n        username: localLoginInfo.username,\n        password: decryptFn(localLoginInfo.password),\n        remember: localLoginInfo.remember\n      })\n    }\n  })\n  // useEffect(() => {\n  //   form.resetFields()\n  // }, [form, activeKey])\n\n  const { t, i18n } = useTranslation();\n  i18n.on('languageChanged', (lng) => {\n    if (isValidate) form.validateFields();\n  })\n  useUnmount(() => {\n    i18n.off('languageChanged');\n  })\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const onFinish = (values) => {\n    setLocalLoginInfo({\n      username: values.username,\n      password: encryptFn(values.password),\n      remember: values.remember,\n    })\n\n    let access = [];\n    if (values.username === 'normal') {\n      access = ['normal'];\n    } else if (values.username === 'middle') {\n      access = ['middle'];\n    } else if (values.username === 'admin') {\n      access = ['normal', 'middle', 'admin'];\n    }\n\n    Cookies.set(addPrefixName('accessToken'), values.username, { expires: 7 })\n    dispatch(setUserInfo({\n      name: values.username,\n      header: 'https://avatars.githubusercontent.com/u/21698289?s=48&v=4',\n      access,\n    }));\n    message.success(t('登陆成功'));\n    navigate('/');\n    console.log('Received values of form: ', values);\n  };\n\n  return (\n    <Form\n      initialValues={{\n        remember: true,\n      }}\n      form={form}\n      onFinish={onFinish}\n      size=\"large\"\n      name=\"login\"\n      className=\"w-80\"\n    >\n      <Form.Item\n        name=\"username\"\n        rules={[\n          {\n            required: true,\n            message: t('Please input your Username!'),\n          },\n        ]}\n      >\n        <Input prefix={<UserOutlined className=\"text-gray-400\" />} placeholder={t('Username')} allowClear />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: t('Please input your Password!'),\n          },\n        ]}\n      >\n        <Input.Password prefix={<LockOutlined className=\"text-gray-400\" />} placeholder={t('Password')} allowClear />\n      </Form.Item>\n      <Form.Item>\n        <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\n          <Checkbox>{t('Remember me')}</Checkbox>\n        </Form.Item>\n\n        <Link className=\"float-right a\" to=\"/login/password\" style={{color: colorPrimary}}>{t('Forgot password')}</Link>\n      </Form.Item>\n\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"w-full\" onClick={() => setIsValidate(true)}>{t('Log in')}</Button>\n        <div className='mt-3'>{t('Or')} <Link to=\"/login/register\" className=\"a\" style={{color: colorPrimary}}>{t('register now!')}</Link></div>\n      </Form.Item>\n\n      <Form.Item>\n        <ul style={{listStyle: 'decimal', paddingLeft: '14px'}}>\n          <li>账号normal，密码随意，对应的是normal权限</li>\n          <li>账号middle，密码随意，对应的是middle权限</li>\n          <li>账号admin，密码随意，对应的是admin权限（拥有normal和middle权限）</li>\n          <li>账号随意 ，密码随意，对应的仅是requiresAuth: true的页面</li>\n        </ul>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default PasswordLogin;\n","// This icon file is generated automatically.\nvar MobileOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z\" } }] }, \"name\": \"mobile\", \"theme\": \"outlined\" };\nexport default MobileOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MobileOutlinedSvg from \"@ant-design/icons-svg/es/asn/MobileOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar MobileOutlined = function MobileOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: MobileOutlinedSvg\n  }));\n};\nMobileOutlined.displayName = 'MobileOutlined';\nexport default /*#__PURE__*/React.forwardRef(MobileOutlined);","// This icon file is generated automatically.\nvar SafetyCertificateOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z\" } }] }, \"name\": \"safety-certificate\", \"theme\": \"outlined\" };\nexport default SafetyCertificateOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SafetyCertificateOutlinedSvg from \"@ant-design/icons-svg/es/asn/SafetyCertificateOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar SafetyCertificateOutlined = function SafetyCertificateOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: SafetyCertificateOutlinedSvg\n  }));\n};\nSafetyCertificateOutlined.displayName = 'SafetyCertificateOutlined';\nexport default /*#__PURE__*/React.forwardRef(SafetyCertificateOutlined);","import React, { useEffect, useState } from 'react';\nimport { SafetyCertificateOutlined, MobileOutlined } from '@ant-design/icons';\nimport { Button, Form, Input, theme } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from \"react-router-dom\";\nimport { useCountDown, useUnmount } from 'ahooks';\nimport config from '../../../config';\n\nconst { useToken } = theme;\n\nconst VerificationLogin = ({ activeKey }) => {\n  const { token } = useToken();\n  const { colorPrimary } = token;\n  const [isValidate, setIsValidate] = useState(false)\n\n  const [form] = Form.useForm()\n  useEffect(() => {\n    // form.resetFields();\n    setTargetDate(undefined);\n    setIsGetVerificationLoading(false);\n  }, [form, activeKey])\n\n  const { t, i18n } = useTranslation();\n  i18n.on('languageChanged', (lng) => {\n    if (isValidate) form.validateFields();\n  })\n  useUnmount(() => {\n    i18n.off('languageChanged');\n  })\n\n  const [isGetVerificationLoading, setIsGetVerificationLoading] = useState(false);\n  const [targetDate, setTargetDate] = useState();\n  const [countdown] = useCountDown({\n    targetDate,\n    onEnd: () => {\n      setIsGetVerificationLoading(false);\n    },\n  });\n\n  const onFinish = (values) => {\n    console.log('Received values of form: ', values);\n  };\n  const getVerification = () => {\n    form.validateFields(['Phone']).then(() => {\n      setTargetDate(Date.now() + 60 * 1000);\n      setIsGetVerificationLoading(true);\n    })\n  };\n\n  return (\n    <Form\n      initialValues={{\n        remember: true,\n      }}\n      form={form}\n      onFinish={onFinish}\n      size=\"large\"\n      name=\"login\"\n      className=\"w-80\"\n    >\n      <Form.Item\n        name=\"Phone\"\n        rules={[\n          {\n            required: true,\n            message: t('Please input your Phone!'),\n          },\n          {\n            pattern: config.phonePattern,\n            message: t('Incorrect mobile number format!'),\n          },\n        ]}\n      >\n        <Input prefix={<MobileOutlined className=\"text-gray-400\" />} placeholder={t('Phone')} allowClear />\n      </Form.Item>\n\n      <Form.Item\n        name=\"Verification\"\n        rules={[\n          {\n            required: true,\n            message: t('Please input your Verification!'),\n          },\n          {\n            pattern: config.verificationPattern,\n            message: t('Incorrect format of verification number!')\n          },\n        ]}\n        className='flex-auto'\n      >\n        <Input prefix={<SafetyCertificateOutlined className=\"text-gray-400\" />} placeholder={t('Verification')} addonAfter={\n          isGetVerificationLoading ? `${Math.round(countdown / 1000)}s` : <div className='cursor-pointer' onClick={getVerification}>{t('Get verification code')}</div>\n        } allowClear />\n      </Form.Item>\n\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"w-full\" onClick={() => setIsValidate(true)}>{t('Log in')}</Button>\n        <div className='mt-3 clearfix'>\n          <Link className=\"float-left a\" to=\"/login/register\" style={{color: colorPrimary}}>{t('register now!')}</Link>\n          <Link className=\"float-right a\" to=\"/login/password\" style={{color: colorPrimary}}>{t('Forgot password')}</Link>\n        </div>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default VerificationLogin;\n","import React, { useState } from 'react';\nimport { Tabs } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport PasswordLogin from './components/PasswordLogin';\nimport VerificationLogin from './components/VerificationLogin';\n\nconst LoginIndex = () => {\n  const { t } = useTranslation();\n  const [activeKey , setActiveKey] = useState('1')\n  const onChange = (key) => {\n    setActiveKey(key);\n  };\n\n  return (\n    <Tabs\n      activeKey={activeKey}\n      size=\"large\"\n      onChange={onChange}\n      centered\n      items={[\n        {\n          label: t('Password Login'),\n          key: '1',\n          children: <PasswordLogin activeKey={activeKey} />,\n        },\n        {\n          label: t('Verification login'),\n          key: '2',\n          children: <VerificationLogin activeKey={activeKey} />,\n        }\n      ]}\n    />\n  );\n}\n\nexport default LoginIndex;\n","import dayjs from 'dayjs';\nimport { useEffect, useMemo, useState } from 'react';\nimport useLatest from '../useLatest';\nimport { isNumber } from '../utils/index';\nconst calcLeft = target => {\n  if (!target) {\n    return 0;\n  }\n  // https://stackoverflow.com/questions/4310953/invalid-date-in-safari\n  const left = dayjs(target).valueOf() - Date.now();\n  return left < 0 ? 0 : left;\n};\nconst parseMs = milliseconds => {\n  return {\n    days: Math.floor(milliseconds / 86400000),\n    hours: Math.floor(milliseconds / 3600000) % 24,\n    minutes: Math.floor(milliseconds / 60000) % 60,\n    seconds: Math.floor(milliseconds / 1000) % 60,\n    milliseconds: Math.floor(milliseconds) % 1000\n  };\n};\nconst useCountdown = (options = {}) => {\n  const {\n    leftTime,\n    targetDate,\n    interval = 1000,\n    onEnd\n  } = options || {};\n  const target = useMemo(() => {\n    if ('leftTime' in options) {\n      return isNumber(leftTime) && leftTime > 0 ? Date.now() + leftTime : undefined;\n    } else {\n      return targetDate;\n    }\n  }, [leftTime, targetDate]);\n  const [timeLeft, setTimeLeft] = useState(() => calcLeft(target));\n  const onEndRef = useLatest(onEnd);\n  useEffect(() => {\n    if (!target) {\n      // for stop\n      setTimeLeft(0);\n      return;\n    }\n    // 立即执行一次\n    setTimeLeft(calcLeft(target));\n    const timer = setInterval(() => {\n      var _a;\n      const targetLeft = calcLeft(target);\n      setTimeLeft(targetLeft);\n      if (targetLeft === 0) {\n        clearInterval(timer);\n        (_a = onEndRef.current) === null || _a === void 0 ? void 0 : _a.call(onEndRef);\n      }\n    }, interval);\n    return () => clearInterval(timer);\n  }, [target, interval]);\n  const formattedRes = useMemo(() => parseMs(timeLeft), [timeLeft]);\n  return [timeLeft, formattedRes];\n};\nexport default useCountdown;","/* eslint-disable no-empty */\nimport { useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport useUpdateEffect from '../useUpdateEffect';\nimport { isFunction, isUndef } from '../utils';\nexport function createUseStorageState(getStorage) {\n  function useStorageState(key, options) {\n    let storage;\n    // https://github.com/alibaba/hooks/issues/800\n    try {\n      storage = getStorage();\n    } catch (err) {\n      console.error(err);\n    }\n    const serializer = value => {\n      if (options === null || options === void 0 ? void 0 : options.serializer) {\n        return options === null || options === void 0 ? void 0 : options.serializer(value);\n      }\n      return JSON.stringify(value);\n    };\n    const deserializer = value => {\n      if (options === null || options === void 0 ? void 0 : options.deserializer) {\n        return options === null || options === void 0 ? void 0 : options.deserializer(value);\n      }\n      return JSON.parse(value);\n    };\n    function getStoredValue() {\n      try {\n        const raw = storage === null || storage === void 0 ? void 0 : storage.getItem(key);\n        if (raw) {\n          return deserializer(raw);\n        }\n      } catch (e) {\n        console.error(e);\n      }\n      if (isFunction(options === null || options === void 0 ? void 0 : options.defaultValue)) {\n        return options === null || options === void 0 ? void 0 : options.defaultValue();\n      }\n      return options === null || options === void 0 ? void 0 : options.defaultValue;\n    }\n    const [state, setState] = useState(() => getStoredValue());\n    useUpdateEffect(() => {\n      setState(getStoredValue());\n    }, [key]);\n    const updateState = value => {\n      const currentState = isFunction(value) ? value(state) : value;\n      setState(currentState);\n      if (isUndef(currentState)) {\n        storage === null || storage === void 0 ? void 0 : storage.removeItem(key);\n      } else {\n        try {\n          storage === null || storage === void 0 ? void 0 : storage.setItem(key, serializer(currentState));\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    };\n    return [state, useMemoizedFn(updateState)];\n  }\n  return useStorageState;\n}","import { createUseStorageState } from '../createUseStorageState';\nimport isBrowser from '../utils/isBrowser';\nconst useLocalStorageState = createUseStorageState(() => isBrowser ? localStorage : undefined);\nexport default useLocalStorageState;"],"names":["useToken","theme","_ref","activeKey","colorPrimary","token","_useState","useState","_useState2","_slicedToArray","isValidate","setIsValidate","_useLocalStorageState","useLocalStorageState","addPrefixName","_useLocalStorageState2","localLoginInfo","setLocalLoginInfo","_Form$useForm","Form","form","useMount","setFieldsValue","username","password","decryptFn","remember","_useTranslation","useTranslation","t","i18n","on","lng","validateFields","useUnmount","off","dispatch","useDispatch","navigate","useNavigate","_jsxs","initialValues","onFinish","values","encryptFn","access","Cookies","expires","setUserInfo","name","header","message","console","log","size","className","children","_jsx","rules","required","Input","prefix","UserOutlined","placeholder","allowClear","LockOutlined","valuePropName","noStyle","Checkbox","Link","to","style","color","Button","type","htmlType","onClick","listStyle","paddingLeft","MobileOutlined","props","ref","React","AntdIcon","_objectSpread","icon","MobileOutlinedSvg","displayName","SafetyCertificateOutlined","SafetyCertificateOutlinedSvg","useEffect","setTargetDate","undefined","setIsGetVerificationLoading","_useState3","_useState4","isGetVerificationLoading","_useState5","_useState6","targetDate","_useCountDown","useCountDown","onEnd","countdown","pattern","config","addonAfter","concat","Math","round","then","Date","now","setActiveKey","Tabs","onChange","key","centered","items","label","PasswordLogin","VerificationLogin","calcLeft","target","left","dayjs","valueOf","parseMs","milliseconds","days","floor","hours","minutes","seconds","options","arguments","length","leftTime","_ref$interval","interval","useMemo","isNumber","timeLeft","setTimeLeft","onEndRef","useLatest","timer","setInterval","_a","targetLeft","clearInterval","current","call","formattedRes","getStorage","isBrowser","localStorage","storage","err","error","deserializer","value","JSON","parse","getStoredValue","raw","getItem","e","isFunction","defaultValue","state","setState","useUpdateEffect","useMemoizedFn","currentState","isUndef","removeItem","setItem","serializer","stringify"],"sourceRoot":""}